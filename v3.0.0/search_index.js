var documenterSearchIndex = {"docs":
[{"location":"userguide/vlspec/#Vega-lite-specifications-1","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"A Vega-Lite plot specification is represented as a VLSpec object in Julia. There are multiple ways to create a VLSpec object:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The @vlplot macro is the main way to create VLSpec instances in code.\nUsing the vl string macro, you can write Vega-Lite specifications as JSON in your Julia code.\nYou can load Vega-Lite specifications from disc with the load function.\nThe DataVoyager.jl package provides a graphical user interface that you can use to create Vega-Lite specification.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"There are two main things one can do with a VLSpec object:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"One can display it in various front ends.\nOne can save the plot to disc in various formats using the save function.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"This section will give a brief overview of these options. Other sections will describe each option in more detail.","category":"page"},{"location":"userguide/vlspec/#The-@vlplot-macro-1","page":"Vega-lite specifications","title":"The @vlplot macro","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The @vlplot macro is the main way to specify plots in VegaLite.jl. The macro uses a syntax that is closely aligned with the JSON format of the original Vega-Lite specification. It is very simple to take a vega-lite specification and \"translate\" it into a corresponding @vlplot macro call. In addition, the macro provides a number of convenient syntax features that allow for a concise expression of common vega-lite patterns. These shorthands give VegaLite.jl a syntax that can be used in a productive way for exploratory data analysis.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"A very simple Vega-Lite JSON specification looks like this:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"{\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"This can be directly translated into the following @vlplot macro call:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},{a=\"B\",b=55},{a=\"C\",b=43},\n            {a=\"D\",b=91},{a=\"E\",b=81},{a=\"F\",b=53},\n            {a=\"G\",b=19},{a=\"H\",b=87},{a=\"I\",b=52}\n        ]\n    },\n    mark=\"bar\",\n    encoding={\n        x={field=\"a\", type=\"ordinal\"},\n        y={field=\"b\", type=\"quantitative\"}\n    }\n)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The main difference between JSON and the @vlplot macro is that keys are not surrounded by quotation marks in the macro, and key-value pairs are separate by a = (instead of a :).","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"While these literal translations of JSON work, they are also quite verbose. The @vlplot macro provides a number of shorthands so that the same plot can be expressed in a much more concise manner. The following example creates the same plot, but uses a number of alternative syntaxes provided by the @vlplot macro:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, :a, :b)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Typically you should use these shorthands so that you can express your plots in a concise way. The various shorthands are described in more detail in a different chapter.","category":"page"},{"location":"userguide/vlspec/#The-vl-string-macro-1","page":"Vega-lite specifications","title":"The vl string macro","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"One can embed a JSON vega-lite specification directly in Julia code by using the vl string macro:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = vl\"\"\"\n{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n  \"description\": \"A simple bar chart with embedded data.\",\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}\n\"\"\"","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The resulting VLSpec object is indistinguishable from one that is created via the @vlplot macro.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The main benefit of this approach is that one can directly leverage JSON vega-lite examples and code.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"NOTE: A JSON spec can be shown in the @vlplot style using Vega.printrepr - see \"Next Steps\" in the tutorial for an example.","category":"page"},{"location":"userguide/vlspec/#Manipulating-VLSpec-object-directly-1","page":"Vega-lite specifications","title":"Manipulating VLSpec object directly","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Vega-Lite properties can be directly accessed as properties of the VLSpec object.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"julia> using VegaLite, VegaDatasets\n\njulia> spec = dataset(\"cars\") |>\n              @vlplot(:point, x=:Acceleration, y=:Cylinders)\n\njulia> spec.mark\n:point\n\njulia> spec.encoding.x.field\n\"Acceleration\"","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"To modify properties, use Setfield.jl:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"julia> using Setfield  # imports `@set` etc.\n\njulia> spec2 = @set spec.mark = :line\n       spec3 = @set spec2.encoding.y.field = \"Miles_per_Gallon\"","category":"page"},{"location":"userguide/vlspec/#Loading-and-saving-vega-lite-specifications-1","page":"Vega-lite specifications","title":"Loading and saving vega-lite specifications","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The load and save functions can be used to load and save vega-lite specifications to and from disc. The following example loads a vega-lite specification from a file named myfigure.vegalite:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = load(\"myfigure.vegalite\")","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"To save a VLSpec to a file on disc, use the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = ... # Aquire a spec from somewhere\n\nspec |> save(\"myfigure.vegalite\")","category":"page"},{"location":"userguide/vlspec/#[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1","page":"Vega-lite specifications","title":"DataVoyager.jl","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The DataVoyager.jl package provides a graphical UI for data exploration that is based on vega-lite. One can use that tool to create a figure in the UI, and then export the corresponding vega-lite specification for use with this package here.","category":"page"},{"location":"userguide/vlspec/#Displaying-plots-1","page":"Vega-lite specifications","title":"Displaying plots","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"VegaLite.jl integrates into the default Julia multimedia system for viewing plots. This means that in order to show a plot p you would simply call the display(p) function. Most interactive Julia environments (REPL, IJulia, Jupyter Lab, nteract etc.) automatically call display on the value of the last interactive command for you.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Simply viewing plots should work out of the box in all known Julia environments. If you plan to use the interactive features of VegaLite.jl the story becomes slightly more nuanced: while many environments (REPL, Jupyter Lab, nteract, ElectronDisplay.jl, VS Code) support interactive VegaLite.jl plots by default, there are others that either need some extra configuration work (Jupyter Notebook), or don't support interactive plots.","category":"page"},{"location":"userguide/vlspec/#Saving-plots-1","page":"Vega-lite specifications","title":"Saving plots","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"VegaLite.jl plots can be saved as PNG, SVG, PDF, EPS and HTML files. You can save a plot by calling the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, VegaDatasets\n\np = dataset(\"cars\") |> @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon)\n\n# Save as PNG file\nsave(\"figure.png\", p)\n\n# Save as SVG file\nsave(\"figure.svg\", p)\n\n# Save as PDF file\nsave(\"figure.pdf\", p)\n\n# Save EPS file\nsave(\"figure.eps\", p)\n\n# Save HTML file\nsave(\"figure.html\", p)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"You can also use the |> operator with the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n    @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon) |>\n    save(\"figure.png\")","category":"page"},{"location":"referencemanual/global/#Global-settings-1","page":"Global settings","title":"Global settings","text":"","category":"section"},{"location":"referencemanual/global/#","page":"Global settings","title":"Global settings","text":"renderer","category":"page"},{"location":"referencemanual/global/#","page":"Global settings","title":"Global settings","text":"actionlinks","category":"page"},{"location":"userguide/data/#Data-1","page":"Data sources","title":"Data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"VegaLite.jl accepts data to be plotted in a variety of different formats and provides a number of different ways to reference that data. The most typical way to plot data is that you have your data in some Julia data structure, and then add this data to the Vega-Lite specification itself for plotting. As an alternative, Vega-Lite also accepts URLs that point to data sources either on disc or on the web for plotting. Data that you want to plot will typically be in a tabular form. You can also directly pass vectors with data.","category":"page"},{"location":"userguide/data/#Inline-data-1","page":"Data sources","title":"Inline data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Any Julia data structure that supports the iterable tables interface from the TableTraits.jl package can be used as an inline data source with VegaLite.jl. In practice that covers most tabular data structures in the Julia ecosystem: DataFrames.jl, JuliaDB.jl, IndexedTables.jl, various file IO packages (CSVFiles.jl, FeatherFiles.jl, ExcelFiles.jl, StatFiles.jl, ParquetFiles.jl) and any Query.jl result that has a tabular form.","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"There are two ways to add an inline data source to a Vega-Lite plot: 1) by piping the data source into a plot, or 2) by using the data keyword from within a @vlplot call.","category":"page"},{"location":"userguide/data/#Piping-inline-data-1","page":"Data sources","title":"Piping inline data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Any tabular data can be piped into a plot by using the |> operator. For example, to create a scatter plot of a DataFrame called df you can pipe that DataFrame into a specification like this:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"df |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"As mentioned above, you are not restricted to piping DataFrames into a plot, but can in fact plot any iterable table. The following example loads some data from a CSV file using CSVFiles.jl, filters it with Query.jl and then plots it with VegaLite.jl:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"load(\"my_data.csv\") |> @filter(_.a>30) |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#Using-inline-data-with-the-data-keyword-1","page":"Data sources","title":"Using inline data with the data keyword","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can also specify the inline data for a plot by using the standard data keyword from the Vega-Lite language. The following example creates a plot based on a DataFrame named df:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:point, data=df, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"This method also accepts any iterable table.","category":"page"},{"location":"userguide/data/#Directly-passing-vectors-of-data-1","page":"Data sources","title":"Directly passing vectors of data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can also pass vectors of data directly to encoding channels. For example, to create a line plot with ten random values, you can write:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:line, x=1:10, y=randn(10))","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Both 1:10 and randn(10) are AbstractVectors and can therefor be passed in this way. You can also pass vectors directly in cases where you want to specify more detail about an encoding channel:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:point, x=randn(10), y={randn(10), title=\"Some custom title\"})","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"There are two requirements to keep in mind when you use this form of data passing: 1) all vectors you pass in this way need to have the same length, and 2) you cannot pass a data keyword if you use this way of constructing a plot.","category":"page"},{"location":"userguide/data/#Referencing-external-data-1","page":"Data sources","title":"Referencing external data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Sometimes it can be convenient to not embed the source data in the actual Vega-Lite specification, but instead just embed a link to some data in a file. Vega-Lite can read data in a variety of formats (CSV, TSV, JSON etc.), and you can again either pipe a reference into a plot or use the data keyword to specify an external link.","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"VegaLite.jl uses the URI type from the URIParser.jl package to represent URIs, and the FilePaths.jl package to represent filesystem paths. For example, to create a path, you can use the p string macro:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"using FilePaths\n\npath = p\"folder/filename.csv\"","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"The following example creates a URI instance:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"using URIParser\n\nuri = URI(\"https://www.foo.com/bar.csv\")","category":"page"},{"location":"userguide/data/#Piping-paths-and-URIs-1","page":"Data sources","title":"Piping paths and URIs","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Piping either a path or a URI into a Vega-Lite specification works the same way as piping inline data into a plot. You first have to create a path or URI, and then use the pipe operator |>. The following code shows examples of piping both a path and a URI into a plot:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"# Piping a path into a plot\n\np\"subfolder/myfile.csv\" |> @vlplot(:point, x=:a, y=:b)\n\n# Piping a URI into a plot\n\nURI(\"https://www.foo.com/bar.json\") |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#Using-paths-and-URIs-with-the-data-keyword-1","page":"Data sources","title":"Using paths and URIs with the data keyword","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can directly pass a path or URI to the data keyword in a @vlplot call, similar to how you can pass inline data:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"# Plotting data from a local file\n@vlplot(:point, data=p\"subfolder/file.csv\", x=:a, y=:b)\n\n# Plotting data from a URI\n@vlplot(:point, data=URI(\"https://www.foo.com/bar.json\"), x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Sometimes you need to specify additional configuration parameters for an external data source that are supported by the Vega-Lite specification. In that case you can also pass the path or URI instance to the url sub-key in the data part of a plot specification:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(\n    :point,\n    data={\n        url=p\"subfolder/foo.txt\",\n        format={\n            type=:csv\n        }\n    },\n    x=:a,\n    y=:b\n)","category":"page"},{"location":"examples/examples_barcharts/#Bar-Charts-1","page":"Bar Charts","title":"Bar Charts","text":"","category":"section"},{"location":"examples/examples_barcharts/#Simple-Bar-Chart-1","page":"Bar Charts","title":"Simple Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, x=\"a:o\", y=:b)","category":"page"},{"location":"examples/examples_barcharts/#Responsive-Bar-Chart-1","page":"Bar Charts","title":"Responsive Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    height=250,\n    width=\"container\",\n    :bar,\n    x=\"Origin:n\",\n    y=\"count()\",\n)","category":"page"},{"location":"examples/examples_barcharts/#Aggregate-Bar-Chart-1","page":"Bar Charts","title":"Aggregate Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    height={step=17},\n    :bar,\n    transform=[{filter=\"datum.year == 2000\"}],\n    y=\"age:o\",\n    x={\"sum(people)\", axis={title=\"population\"}}\n)","category":"page"},{"location":"examples/examples_barcharts/#Aggregate-Bar-Chart-(Sorted)-1","page":"Bar Charts","title":"Aggregate Bar Chart (Sorted)","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[{filter=\"datum.year == 2000\"}],\n    y={\"age:o\",sort=\"-x\"},\n    x={\"sum(people)\", axis={title=\"population\"}}\n)","category":"page"},{"location":"examples/examples_barcharts/#Grouped-Bar-Chart-1","page":"Bar Charts","title":"Grouped Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year == 2000\"},\n        {calculate=\"datum.sex == 2 ? 'Female' : 'Male'\", as=\"gender\"}\n    ],\n    column=\"age:o\",\n    y={\"sum(people)\", axis={title=\"population\", grid=false}},\n    x={\"gender:n\", axis={title=\"\"}},\n    color={\"gender:n\", scale={range=[\"#675193\", \"#ca8861\"]}},\n    spacing=10,\n    config={\n        view={stroke=:transparent},\n        axis={domainWidth=1}\n    }\n)","category":"page"},{"location":"examples/examples_barcharts/#Grouped-Bar-Chart-(Another-Example)-1","page":"Bar Charts","title":"Grouped Bar Chart (Another Example)","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    :bar,\n    column=\"month(date):o\",\n    x={\"weather:n\", axis={title=\"\", labels=false}},\n    y={\"count()\", axis={title=\"Count\", grid=false}},\n    color={\n        :weather,\n        scale={\n            domain=[\"sun\",\"fog\",\"drizzle\",\"rain\",\"snow\"],\n            range=[\"#e7ba52\",\"#c7c7c7\",\"#aec7e8\",\"#1f77b4\",\"#9467bd\"]\n        },\n        legend={\n            title=\"Weather type\"\n        }\n    },\n    spacing=10,\n    config={\n        view={stroke=:transparent},\n        axis={domainWidth=1}\n    }\n)","category":"page"},{"location":"examples/examples_barcharts/#Stacked-Bar-Chart-1","page":"Bar Charts","title":"Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"This is exactly the same chart as the previous example, except it is stacked instead of grouped.","category":"page"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    :bar,\n    x={\"month(date):o\", axis={title=\"Month of the year\"}},\n    y=\"count()\",\n    color={\n        :weather,\n        scale={\n            domain=[\"sun\",\"fog\",\"drizzle\",\"rain\",\"snow\"],\n            range=[\"#e7ba52\",\"#c7c7c7\",\"#aec7e8\",\"#1f77b4\",\"#9467bd\"]\n        },\n        legend={\n            title=\"Weather type\"\n        }\n    }\n)","category":"page"},{"location":"examples/examples_barcharts/#Stacked-Bar-Chart-with-Rounded-Corners-1","page":"Bar Charts","title":"Stacked Bar Chart with Rounded Corners","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    mark={\n        :bar,\n        cornerRadiusTopLeft=3,\n        cornerRadiusTopRight=3\n    },\n    x={\"month(date):o\"},\n    y=\"count()\",\n    color={\n        :weather\n    }\n)","category":"page"},{"location":"examples/examples_barcharts/#Horizontal-Stacked-Bar-Chart-1","page":"Bar Charts","title":"Horizontal Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(:bar, x=\"sum(yield)\", y=:variety, color=:site)","category":"page"},{"location":"examples/examples_barcharts/#Normalized-(Percentage)-Stacked-Bar-Chart-1","page":"Bar Charts","title":"Normalized (Percentage) Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year == 2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=\"gender\"}\n    ],\n    y={\n        \"sum(people)\",\n        axis={title=\"population\"},\n        stack=:normalize\n    },\n    x=\"age:o\",\n    color={\n        \"gender:n\",\n        scale={range=[\"#675193\", \"#ca8861\"]}\n    },\n    width={step=17}    \n)","category":"page"},{"location":"examples/examples_barcharts/#Gantt-Chart-(Ranged-Bar-Marks)-1","page":"Bar Charts","title":"Gantt Chart (Ranged Bar Marks)","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vlplot(\n    :bar,\n    data={\n        values=[\n            {task=\"A\",start=1,stop=3},\n            {task=\"B\",start=3,stop=8},\n            {task=\"C\",start=8,stop=10}\n        ]\n    },\n    y=\"task:o\",\n    x=\"start:q\",\n    x2=\"stop:q\"\n)","category":"page"},{"location":"examples/examples_barcharts/#A-bar-chart-encoding-color-names-in-the-data-1","page":"Bar Charts","title":"A bar chart encoding color names in the data","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vlplot(\n    :bar,\n    data={\n        values=[\n            {color=\"red\",b=28},\n            {color=\"green\",b=55},\n            {color=\"blue\",b=43}\n        ]\n    },\n    x=\"color:n\",\n    y=\"b:q\",\n    color={\"color:n\",scale=nothing}\n)","category":"page"},{"location":"examples/examples_barcharts/#Layered-Bar-Chart-1","page":"Bar Charts","title":"Layered Bar Chart","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year==2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=\"gender\"}\n    ],\n    x=\"age:o\",\n    y={\"sum(people)\", axis={title=\"population\"}, stack=nothing},\n    color={\"gender:n\", scale={range=[\"#675193\", \"#ca8861\"]}},\n    opacity={value=0.7},\n    width={step=17}\n)","category":"page"},{"location":"examples/examples_barcharts/#Diverging-Stacked-Bar-Chart-(Population-Pyramid)-1","page":"Bar Charts","title":"Diverging Stacked Bar Chart (Population Pyramid)","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    width=300,\n    height=200,\n    :bar,\n    transform=[\n        {filter=\"datum.year==2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\", as=\"gender\"},\n        {calculate=\"datum.sex==2 ? -datum.people : datum.people\", \"as\"=\"signed_people\" }\n    ],\n    x={\"sum(signed_people)\", axis={title=\"population\", format=:s} },\n    y={\"age:o\", axis=nothing, sort=\"descending\" },\n    color={\"gender:n\", scale={range=[\"#675193\", \"#ca8861\"]},legend={orient=:top,title=nothing}},\n    config={view={stroke=nothing},axis={grid=false}}\n)","category":"page"},{"location":"examples/examples_barcharts/#Diverging-Stacked-Bar-Chart-(with-Neutral-Parts)-1","page":"Bar Charts","title":"Diverging Stacked Bar Chart (with Neutral Parts)","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    question=[\"Question $(div(i,5)+1)\" for i in 0:39],\n    type=repeat([\"Strongly disagree\", \"Disagree\", \"Neither agree nor disagree\",\n        \"Agree\", \"Strongly agree\"],outer=8),\n    value=[24, 294, 594, 1927, 376, 2, 2, 0, 7, 11, 2, 0, 2, 4, 2, 0, 2, 1, 7,\n        6, 0, 1, 3, 16, 4, 1, 1, 2, 9, 3, 0, 0, 1, 4, 0, 0, 0, 0, 0, 2],\n    percentage=[0.7, 9.1, 18.5, 59.9, 11.7, 18.2, 18.2, 0, 63.6, 0, 20, 0, 20,\n        40, 20, 0, 12.5, 6.3, 43.8, 37.5, 0, 4.2, 12.5, 66.7, 16.7, 6.3, 6.3,\n        12.5, 56.3, 18.8, 0, 0, 20, 80, 0, 0, 0, 0, 0, 100],\n    percentage_start=[-19.1, -18.4, -9.2, 9.2, 69.2, -36.4, -18.2, 0, 0, 63.6,\n        -30, -10, -10, 10, 50, -15.6, -15.6, -3.1, 3.1, 46.9, -10.4, -10.4,\n        -6.3, 6.3, 72.9, -18.8, -12.5, -6.3, 6.3, 62.5, -10, -10, -10, 10, 90,\n        0, 0, 0, 0, 0],\n    percentage_end=[-18.4, -9.2, 9.2, 69.2, 80.9, -18.2, 0, 0, 63.6, 63.6, -10,\n        -10, 10, 50, 70, -15.6, -3.1, 3.1, 46.9, 84.4, -10.4, -6.3, 6.3, 72.9,\n        89.6, -12.5, -6.3, 6.3, 62.5, 81.3, -10, -10, 10, 90, 90, 0, 0, 0, 0, 100]\n)\n\ndata |> @vlplot(\n    :bar,\n    x={:percentage_start, axis={title=\"Percentage\"}},\n    x2=:percentage_end,\n    y={\n        :question, axis={\n            title=\"Question\",\n            offset=5,\n            ticks=false,\n            minExtent=60,\n            domain=false\n        }\n    },\n    color={\n        :type,\n        legend={title=\"Response\"},\n        scale={\n            domain=[\n                \"Strongly disagree\",\n                \"Disagree\",\n                \"Neither agree nor disagree\",\n                \"Agree\",\n                \"Strongly agree\"\n            ],\n            range=[\"#c30d24\", \"#f3a583\", \"#cccccc\", \"#94c6da\", \"#1770ab\"],\n            type=:ordinal\n        }\n    }\n)","category":"page"},{"location":"examples/examples_barcharts/#Bar-Chart-with-Labels-1","page":"Bar Charts","title":"Bar Chart with Labels","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},\n            {a=\"B\",b=55},\n            {a=\"C\",b=43}\n        ]\n    },\n    y=\"a:o\",\n    x=\"b:q\"\n) +\n@vlplot(:bar) +\n@vlplot(\n    mark={\n        :text,\n        align=:left,\n        baseline=:middle,\n        dx=3\n    },\n    text=\"b:q\"\n)","category":"page"},{"location":"examples/examples_barcharts/#Bar-Chart-with-Label-Overlays-1","page":"Bar Charts","title":"Bar Chart with Label Overlays","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    width=200,\n    height={step=16},\n    y={:Major_Genre,axis=nothing}\n) +\n@vlplot(\n    mark={:bar,color=\"#ddd\"},\n    x={\"mean(IMDB_Rating)\",axis={title=\"Mean IMDB Ratings\"},scale={domain=[0,10]}},\n) +\n@vlplot(\n    mark={:text,align=\"left\",x=5},\n    text=\"Major_Genre:n\",\n    detail={aggregate=\"count\",type=\"quantitative\"}\n)","category":"page"},{"location":"examples/examples_barcharts/#Bar-Chart-showing-Initials-of-Month-Names-1","page":"Bar Charts","title":"Bar Chart showing Initials of Month Names","text":"","category":"section"},{"location":"examples/examples_barcharts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    :bar,\n    x={\"date:t\",timeUnit=\"month\",axis={labelAlign=\"left\",labelExpr=\"datum.label[0]\"}},\n    y={\"mean(precipitation)\"}\n)","category":"page"},{"location":"referencemanual/performance/#Performance-Tips-1","page":"Performance tips","title":"Performance Tips","text":"","category":"section"},{"location":"referencemanual/performance/#","page":"Performance tips","title":"Performance tips","text":"VegaLite.jl does many things to make plotting easy and fun; for some tasks, a little help from an advanced user goes a long way. Here are a few tips for improving plotting speeds.","category":"page"},{"location":"referencemanual/performance/#Example-1:-DataFrame-with-many-columns,-only-a-couple-are-used-1","page":"Performance tips","title":"Example 1: DataFrame with many columns, only a couple are used","text":"","category":"section"},{"location":"referencemanual/performance/#","page":"Performance tips","title":"Performance tips","text":"In order to speed up plotting, only pass necessary columns to the vplot macro.","category":"page"},{"location":"referencemanual/performance/#","page":"Performance tips","title":"Performance tips","text":"using VegaLite, DataFrames\n\ndf = DataFrame(rand(100, 1000))\n\n@time df |> @vlplot(:point, x=:x1, y=:x2)\n# 58.488104 seconds (8.79 M allocations: 519.253 MiB, 0.36% gc time)\n\n@time select(df, [:x1, :x2]) |> @vlplot(:point, x=:x1, y=:x2)\n# 0.382024 seconds (733.50 k allocations: 45.077 MiB, 4.41% gc time, 61.54% compilation time)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Repeat-and-Concatenation-1","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#Repeat-and-layer-to-show-different-weather-measures-1","page":"Repeat & Concatenation","title":"Repeat and layer to show different weather measures","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"weather.csv\") |>\n@vlplot(repeat={column=[:temp_max,:precipitation,:wind]}) +\n(\n    @vlplot() +\n    @vlplot(\n        :line,\n        y={field={repeat=:column},aggregate=:mean,type=:quantitative},\n        x=\"month(date):o\",\n        detail=\"year(date)\",\n        color=:location,\n        opacity={value=0.2}\n    ) +\n    @vlplot(\n        :line,\n        y={field={repeat=:column},aggregate=:mean,type=:quantitative},\n        x=\"month(date):o\",\n        color=:location\n    )\n)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Vertically-concatenated-charts-that-show-precipitation-in-Seattle-1","page":"Repeat & Concatenation","title":"Vertically concatenated charts that show precipitation in Seattle","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"weather.csv\") |>\n@vlplot(transform=[{filter=\"datum.location === 'Seattle'\"}]) +\n[\n    @vlplot(:bar,x=\"month(date):o\",y=\"mean(precipitation)\");\n    @vlplot(:point,x={:temp_min, bin=true}, y={:temp_max, bin=true}, size=\"count()\")\n]","category":"page"},{"location":"examples/examples_repeat_concatenation/#Horizontally-repeated-charts-1","page":"Repeat & Concatenation","title":"Horizontally repeated charts","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(repeat={column=[:Horsepower, :Miles_per_Gallon, :Acceleration]}) +\n@vlplot(\n    :bar,\n    x={field={repeat=:column},bin=true,type=:quantitative},\n    y=\"count()\",\n    color=:Origin\n)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Interactive-Scatterplot-Matrix-1","page":"Repeat & Concatenation","title":"Interactive Scatterplot Matrix","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> \n@vlplot(\n    repeat={\n        row=[:Horsepower, :Acceleration, :Miles_per_Gallon],\n        column=[:Miles_per_Gallon, :Acceleration, :Horsepower]\n    }\n) +\n@vlplot(\n    :point,\n    selection={\n        brush={\n            type=:interval,\n            resolve=:union,\n            on=\"[mousedown[event.shiftKey], window:mouseup] > window:mousemove!\",\n            translate=\"[mousedown[event.shiftKey], window:mouseup] > window:mousemove!\",\n            zoom=\"wheel![event.shiftKey]\"\n        },\n        grid={\n            type=:interval,\n            resolve=:global,\n            bind=:scales,\n            translate=\"[mousedown[!event.shiftKey], window:mouseup] > window:mousemove!\",\n            zoom=\"wheel![!event.shiftKey]\"\n        }\n    },\n    x={field={repeat=:column}, type=:quantitative},\n    y={field={repeat=:row}, type=:quantitative},\n    color={\n        condition={\n            selection=:brush,\n            field=:Origin,\n            type=:nominal\n        },\n        value=:grey\n    }\n)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Marginal-Histograms-1","page":"Repeat & Concatenation","title":"Marginal Histograms","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\np_hist1 = @vlplot(\n    :bar,\n    height=60,\n    x={:IMDB_Rating, bin=true, axis=nothing},\n    y={\"count()\", scale={domain=[0,1000]}, title=nothing}\n)\n\np_main = @vlplot(\n    :rect,\n    x={\"IMDB_Rating:q\", bin=true},\n    y={\"Rotten_Tomatoes_Rating:q\", bin=true},\n    color=\"count()\"\n)\n\np_hist2 = @vlplot(\n    :bar,\n    width=60,\n    y={\"Rotten_Tomatoes_Rating:q\", bin=true, axis=nothing},\n    x={\"count()\", scale={domain=[0,1000]}, title=nothing}\n)\n\ndataset(\"movies\") |>\n@vlplot(spacing=15, founds=:flush, config={view={stroke=:transparent}}) + [p_hist1; @vlplot(spacing=15, bounds=:flush) + [p_main p_hist2]]","category":"page"},{"location":"gettingstarted/tutorial/#Tutorial-1","page":"Tutorial","title":"Tutorial","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This tutorial will show you how to create plots with VegaLite.jl.","category":"page"},{"location":"gettingstarted/tutorial/#Data-1","page":"Tutorial","title":"Data","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Plots are a way to visualize data, and therefore every plot starts with some dataset. VegaLite.jl expects data to be in tabular form, and it works best if you pass it tidy data.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The definition of tabular data we are using here is very simple: think of a table that has a header and consists of a number of columns and rows. The header gives each column a name. The rows correspond to the actual data. Columns don't have to be of the same data type, i.e. you can have one column that contains Strings, and another that contains Float64 values.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"VegaLite.jl can digest many different Julia types that store tabular data. You can, for example, plot data that is stored in a DataFrame, JuliaDB.jl or loaded from disc with CSVFiles.jl. In this tutorial we will plot data that ships in the package VegaDatasets.jl.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The dataset we will use for this tutorial is the cars dataset from the VegaDatasets.jl. The dataset contains information about a couple hundred cars. We can load the dataset with the dataset function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaDatasets\n\ndata = dataset(\"cars\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We are storing the dataset in the variable data, so that we can access it more easily in the following examples.","category":"page"},{"location":"gettingstarted/tutorial/#Simple-Scatter-Plot-1","page":"Tutorial","title":"Simple Scatter Plot","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We will start out with a very simple scatter plot. The minimum steps for creating a plot are to 1) pass the data we want to plot to the plot macro, and 2) specify what kind of visual shape, or \"mark\" in Vega-Lite terminology, we want to use to visualize our data. We \"pipe\" the data into the plot macro using the pipe operator |>. The actual plot is created by a call to the @vlplot macro. The first argument to the @vlplot macro specifies what kind of mark we want to use for our plot. We pass the name of the mark as a symbol. In our example we want to use points for our plot. The following code shows this minimal plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"While this code produces a plot, it is not a very useful plot. Vega-Lite is actually drawing a point for every row in our input dataset. But it is drawing all these points on top of each other, which makes the plot so uninteresting.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"By the way, the code above is based on the premise that it is executed in the Julia command line (REPL). When the code is executed from within a script (or a function), the plot needs to be explicitly displayed as","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point) |> display","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"To create a more interesting plot, we next need to specify how Vega-Lite should connect key properties of the points (for example their position) with the data that we passed it. These connections are called \"encodings\" in Vega-Lite. We will start out by specifying how both the x and y position encoding channel for the points should take values from the data we passed:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This code now produces a nice scatter plot. We specify these encodings by using keyword arguments inside the @vlplot macro that correspond to the names of the encoding channels, in our example the x and y channel. We pass the names of the columns in our dataset that we want to use for these channels as symbols, e.g. as :Miles_per_Gallon and :Horsepower.","category":"page"},{"location":"gettingstarted/tutorial/#Encoding-1","page":"Tutorial","title":"Encoding","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Vega-Lite provides many different encoding channels beyond the x and y channel we saw in the previous section. This section will introduce a few more encoding channels and how you can configure their details. You can read about the full list of encoding channels in the original Vega-Lite documentation.","category":"page"},{"location":"gettingstarted/tutorial/#Channels-1","page":"Tutorial","title":"Channels","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"As our next step we will encode the color channel. The following code will use the Origin column in our dataset for the color channel, so that the points in our plot use a different color for each unique value in the Origin column:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"If we want to produce a separate plot for each of the three unique Origin values, we can instead encode the columns channel so that we create a facet plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, column=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We can now use the color channel to visualize yet another column from our dataset. The following code uses the color encoding channel to visualize the Cylinders column in our dataset:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, column=:Origin, color=:Cylinders)","category":"page"},{"location":"gettingstarted/tutorial/#Channel-types-1","page":"Tutorial","title":"Channel types","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Before we introduce channel types, we will go back to a more simple plot without faceting.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We are still encoding the color channel, but note that we are now passing the name of the column as a String, not as a Symbol (i.e. we are writing color=\"Cylinders\" instead of color=:Cylinders). This is a general pattern in VegaLite.jl: you can generally use Symbols and Strings interchangeably. Using a Symbol saves you one extra character (the closing \"), so we tend to use those when possible, but sometimes you need to use characters that can't be used in Julia's literal Symbol syntax, and then we use Strings.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The legend that was automatically generated for the color channel in the previous plot uses a continuous scale, i.e. it shows a smooth range of colors. VegaLite.jl automatically encodes any numeric column in the source data as such a \"quantitative\" channel. Sometimes that is not a good automatic default, though. For example, in our example case there are only a handful of distinct integer values used in the Cylinders column, and in such a case we might prefer a more discrete legend.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We can tell VegaLite.jl to change the type of a channel from say the default quantitative type to an ordinal channel by slightly changing the channel encoding to color=\"Cylinders:ordinal\". In this case we specify the type of the encoding as a second argument in the string that is separated from the column name by a :. We can further shorten this by writing color=\"Cylinders:o\", i.e. we can only use the first character of the type of encoding we want to use.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Using this new syntax we can generate the following plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders:o\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Values in an ordinal channel are still ordered, so Vega-Lite automatically picks a color scheme that can showcase such an order.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"What if we don't want to use a color scheme that signals any order? In that case we can change the type of the encoding to nominal by using the syntax color=\"Cylinders:n\", generating the following plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders:n\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"You can also use the same encoding type specification for any other encoding channel. The following example puts the Cylinders column on the x axis of the plot and specifies it as an ordinal encoding:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=\"Cylinders:o\", y=:Miles_per_Gallon)","category":"page"},{"location":"gettingstarted/tutorial/#Channel-properties-1","page":"Tutorial","title":"Channel properties","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Our previous plots looked quite decent, but in many cases we probably still want to customize a whole range of features of our plots. One simple example in the previous plots might be the label of the axis that encoded the Miles_per_Gallon column. The axis automatically got labeled by the column name, and we might want to remove the underscores from the actual axis label.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Whenever we want to specify more properties for a channel than just the name or type, we have to assign a composite value to the name of the channel by using curly brackets {}. Note that this use of {} is specific to the @vlplot macro, i.e. it is not a generic Julia language feature. For example, to specify an alternative title for an axis, we would write x={:Miles_per_Gallon, title=\"MPG\"}. Note that within the composite value we can still pass the name of the field to be encoded as a first positional argument, followed by arbitrary many named arguments. We can use similar syntax to also adjust the title of the legend, as shown in the following code example:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(\n    :point,\n    x={\n        :Miles_per_Gallon,\n        title=\"MPG\"\n    },\n    y=:Horsepower,\n    color={\n        \"Cylinders:n\",\n        legend={title=\"No of Cylinders\"}\n    }\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Channels have a large number of properties that you can customize in this way, they are all explained in the original Vega-Lite documentation.","category":"page"},{"location":"gettingstarted/tutorial/#Marks-1","page":"Tutorial","title":"Marks","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Our examples all used a point mark so far, but Vega-Lite supports many more types of marks. The following example uses a line mark instead of the point mark we have used so far:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets, Query\n\ndataset(\"stocks\") |>\n@filter(_.symbol==\"GOOG\") |>\n@vlplot(:line, x={\"date:t\", axis={format=\"%Y\"}}, y=:price)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Note how we specify the line mark type as the first positional argument to the @vlplot macro call. This examples also showcases a number of other features. First, it uses Query.jl to filter the dataset before we plot it (we only want to plot the stock price for Google). The example also introduces a encoding channel type we haven't seen before: we are using a temporal channel type here (configured with the :t part in \"date:t\"). The temporal type is specifically designed for date and time information. We are also changing how the values of the x axis are displayed in the plot by specifying a custom format string for the x axis.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Sometimes we will need to configure more aspects of the mark than just the type of mark. In that case we can pass additional properties by using the composite syntax we have seen before. In the following example we are using a line mark, and we are customizing the color of the line and are also configuring it to show points on top of the line itself:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets, Query\n\ndataset(\"stocks\") |>\n@filter(_.symbol==\"GOOG\") |>\n@vlplot(\n    mark={\n        :line,\n        point=true,\n        color=:red\n    },\n    x={\n        \"date:t\",\n        axis={\n            format=\"%Y\"\n        }\n    },\n    y=:price\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Note how we have to use the more explicit named keyword syntax mark={} when we want to specify more mark properties inside the @vlplot macro call. We can still pass the mark type as a positional first argument inside the value we assign to mark, though.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There are many different mark types in Vega-Lite, with many different options to customize their appearance. The original Vega-Lite documentation describes all these options in detail.","category":"page"},{"location":"gettingstarted/tutorial/#Aggregations-1","page":"Tutorial","title":"Aggregations","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The following graph shows many individual data points for each x axis value:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:point, x=:Origin, y=:Miles_per_Gallon)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"In such situations it can often be more interesting to compute an aggregate value for each x axis value, for example the mean miles per gallon number for each region:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:point, x=:Origin, y=\"average(Miles_per_Gallon)\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Here we are making use of another shorthand syntax option in VegaLite.jl. We can specify an aggregation operation in the form of a function call (e.g. average(...)) and then pass the name of the column for which we want to compute the aggregation as an argument (e.g. average(Miles_per_Gallon)). Vega-Lite supports many different aggregations. For example the next plot shows the minimum miles per gallon per region:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=:Origin, y=\"min(Miles_per_Gallon)\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This example also uses a different mark, namely the bar mark to create a bar plot.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There is one aggregation operator that works slightly different, namely the count aggregation. It simply counts the number of rows in each group, so one does not have to specify a column to be aggregated:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=:Origin, y=\"count()\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Aggregations can of course be used for any encoding channel, we can for example easily create a horizontal bar chart:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=\"count()\", y=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#Config-1","page":"Tutorial","title":"Config","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Almost all aspects of a Vega-Lite plot can be configured and customized. Many of these choices can be set by using the config keyword in the @vlplot macro call. For example, the following plot adds a title to the plot and the configures the title to use a red font:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :point,\n    x=:Miles_per_Gallon,\n    y=:Acceleration,\n    title=\"Cars\",\n    config={\n        title={\n            color=:red\n        }\n    }\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The original Vega-Lite documentation describes all config options in great detail.","category":"page"},{"location":"gettingstarted/tutorial/#File-IO-1","page":"Tutorial","title":"File IO","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Plots that are created with VegaLite.jl can be saved to disc in a number of formats (PNG, SVG, PDF, ESP). To save a plot, simply call the save function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\np = dataset(\"cars\") |> @vlplot(:bar, x=\"count()\", y=:Origin)\n\nsave(\"myplot.png\", p)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"You can also pipe a plot into the save function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:bar, x=\"count()\", y=:Origin) |>\nsave(\"myplot.pdf\")","category":"page"},{"location":"gettingstarted/tutorial/#Next-steps-1","page":"Tutorial","title":"Next steps","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There are two main sources of information if you want to learn more about plotting with VegaLite.jl. The first is the excellent Vega-Lite documentation. The documentation describes the JSON original Vega-Lite version, but it should be fairly easy to understand how those examples translate into the Julia equivalent. The second source are the remaining sections in this documentation of VegaLite.jl. The section about the @vlplot macro should be especially useful for understanding how the JSON Vega-Lite syntax can be translated into the equivalent Julia version.","category":"page"},{"location":"gettingstarted/tutorial/#Moving-from-Vega-Lite-Examples-to-Julia-1","page":"Tutorial","title":"Moving from Vega-Lite Examples to Julia","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Vega-Lite has a rich gallery of examples that often make a great starting point for developing visualizations.  However, editing JSON and integrating it with Julia is not the simplest workflow.  To translate a JSON specification to @vlplot syntax, do the following.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, Vega\n\nspec = vl\"\"\"{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v4.json\",\n  \"description\": \"A simple bar chart with embedded data.\",\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\", \"b\": 28}, {\"a\": \"B\", \"b\": 55}, {\"a\": \"C\", \"b\": 43},\n      {\"a\": \"D\", \"b\": 91}, {\"a\": \"E\", \"b\": 81}, {\"a\": \"F\", \"b\": 53},\n      {\"a\": \"G\", \"b\": 19}, {\"a\": \"H\", \"b\": 87}, {\"a\": \"I\", \"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"nominal\", \"axis\": {\"labelAngle\": 0}},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}\"\"\";\n\n# outputs the code as a string so then be copied/pasted and edited\ncode_str = sprint(Vega.printrepr, spec)\n\n#=\ncode_str now contains:\n\"@vlplot(\\$schema=\\\"https://vega.github.io/schema/vega-lite/v4.json\\\",encoding={x={axis={labelAngle=0},field=\\\"a\\\",type=\\\"nominal\\\"},y={field=\\\"b\\\",type=\\\"quantitative\\\"}},mark=\\\"bar\\\",description=\\\"A simple bar chart with embedded data.\\\")\"\n=#\n\n# prints the code to stdout more prettily and without the data so then can be copied/pasted\n# and edited and new data piped in from a table\nVega.printrepr(stdout, spec, indent=true, include_data=false)\n\n#=\nResult\n@vlplot(\n $schema=\"https://vega.github.io/schema/vega-lite/v4.json\",\n encoding={\n  x={\n   axis={\n    labelAngle=0\n   },\n   field=\"a\",\n   type=\"nominal\"\n  },\n  y={\n   field=\"b\",\n   type=\"quantitative\"\n  }\n },\n mark=\"bar\",\n description=\"A simple bar chart with embedded data.\"\n)\n=#","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatter-and-Strip-Plots-1","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-1","page":"Scatter & Strip Plots","title":"Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Dot-Plot-1","page":"Scatter & Strip Plots","title":"Dot Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(:tick, x=:precipitation)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Strip-Plot-1","page":"Scatter & Strip Plots","title":"Strip Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:tick, x=:Horsepower, y=\"Cylinders:o\")","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Colored-Scatterplot-1","page":"Scatter & Strip Plots","title":"Colored Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon, color=:Origin, shape=:Origin)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Binned-Scatterplot-1","page":"Scatter & Strip Plots","title":"Binned Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :circle,\n    x={:IMDB_Rating, bin={maxbins=10}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=10}},\n    size=\"count()\"\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-1","page":"Scatter & Strip Plots","title":"Bubble Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon, size=:Acceleration)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-with-NA-Values-in-Grey-1","page":"Scatter & Strip Plots","title":"Scatterplot with NA Values in Grey","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :point,\n    x=:IMDB_Rating,\n    y=:Rotten_Tomatoes_Rating,\n    color={\n        condition={\n            test=\"datum.IMDB_Rating === null || datum.Rotten_Tomatoes_Rating === null\",\n            value=\"#aaa\"\n        }\n    },\n    config={invalidValues=nothing}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-with-Filled-Circles-1","page":"Scatter & Strip Plots","title":"Scatterplot with Filled Circles","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:circle, x=:Horsepower, y=:Miles_per_Gallon)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-(Gapminder)-1","page":"Scatter & Strip Plots","title":"Bubble Plot (Gapminder)","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"gapminder-health-income\") |>\n@vlplot(\n    :circle,\n    width=500,height=300,\n    selection={\n        view={type=:interval, bind=:scales}\n    },\n    y={:health, scale={zero=false}, axis={minExtent=30}},\n    x={:income, scale={type=:log}},\n    size=:population,\n    color={value=\"#000\"}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-(Natural-Disasters)-1","page":"Scatter & Strip Plots","title":"Bubble Plot (Natural Disasters)","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"disasters\") |>\n@vlplot(\n    width=600,height=400,\n    transform=[\n        {filter=\"datum.Entity !== 'All natural disasters'\"}\n    ],\n    mark={\n        :circle,\n        opacity=0.8,\n        stroke=:black,\n        strokeWidth=1\n    },\n    x={\"Year:o\", axis={labelAngle=0}},\n    y={:Entity, axis={title=\"\"}},\n    size={\n        :Deaths,\n        legend={title=\"Annual Global Deaths\"},\n        scale={range=[0,5000]}\n    },\n    color={:Entity, legend=nothing}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatter-Plot-with-Text-Marks-1","page":"Scatter & Strip Plots","title":"Scatter Plot with Text Marks","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :text,\n    transform=[\n        {\n            calculate=\"datum.Origin[0]\",\n            as=\"OriginInitial\"\n        }\n    ],\n    x=:Horsepower,\n    y=:Miles_per_Gallon,\n    color=:Origin,\n    text=\"OriginInitial:n\"\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Image-based-Scatter-Plot-1","page":"Scatter & Strip Plots","title":"Image-based Scatter Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets, DataFrames\ndata=DataFrame(\n    x=[0.5,1.5,2.5],\n    y=[0.5,1.5,2.5],\n    #use the following code to reproduce on a local REPL:\n    #   Construct the URL to the local example images with absolute paths:\n    #      file:///C:/Users/username/.julia/packages/VegaDatasets/9E5lE/src/../data/data/ffox.png\n    #   img=[\n    #      \"file:///\"*replace(joinpath(joinpath(dirname(pathof(VegaDatasets)),\"..\",\"data\"),\"data\",\"ffox.png\"),\"\\\\\" => \"/\"),\n    #      \"file:///\"*replace(joinpath(joinpath(dirname(pathof(VegaDatasets)),\"..\",\"data\"),\"data\",\"gimp.png\"),\"\\\\\" => \"/\"),\n    #      \"file:///\"*replace(joinpath(joinpath(dirname(pathof(VegaDatasets)),\"..\",\"data\"),\"data\",\"7zip.png\"),\"\\\\\" => \"/\")\n    #   ]\n    img=[\n        \"../../assets/images/ffox.png\",\n        \"../../assets/images/gimp.png\",\n        \"../../assets/images/7zip.png\"\n    ]\n)\ndata |> @vlplot(\n    mark={:image,width=50,height=50},\n    x=\"x:q\",\n    y=\"y:q\",\n    url={field=:img}\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Charts-1","page":"Line Charts","title":"Line Charts","text":"","category":"section"},{"location":"examples/examples_line_charts/#Line-Chart-1","page":"Line Charts","title":"Line Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :line,\n    transform=[\n        {filter=\"datum.symbol=='GOOG'\"}\n    ],\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Point-Markers-1","page":"Line Charts","title":"Line Chart with Point Markers","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        point=true\n    },\n    x=\"year(date)\",\n    y=\"mean(price)\",\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Stroked-Point-Markers-1","page":"Line Charts","title":"Line Chart with Stroked Point Markers","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        point={filled=false, fill=:white}\n    },\n    x=\"year(date)\",\n    y=\"mean(price)\",\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Multi-Series-Line-Chart-1","page":"Line Charts","title":"Multi Series Line Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :line,\n    x=\"date:t\",\n    y=:price,\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Slope-Graph-1","page":"Line Charts","title":"Slope Graph","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    :line,\n    width={step=50},\n    x={\n        \"year:o\",\n        scale={\n            padding=0.5\n        }\n    },\n    y=\"median(yield)\",\n    color=:site\n)","category":"page"},{"location":"examples/examples_line_charts/#Step-Chart-1","page":"Line Charts","title":"Step Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        interpolate=\"step-after\"\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Monotone-Interpolation-1","page":"Line Charts","title":"Line Chart with Monotone Interpolation","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        interpolate=\"monotone\"\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Connected-Scatterplot-(Lines-with-Custom-Paths)-1","page":"Line Charts","title":"Connected Scatterplot (Lines with Custom Paths)","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"driving\") |>\n@vlplot(\n    mark={\n        :line,\n        point=true\n    },\n    x={\n        :miles,\n        scale={zero=false}\n    },\n    y={\n        :gas,\n        scale={zero=false}\n    },\n    order=\"year:t\"\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Varying-Size-(using-the-trail-mark)-1","page":"Line Charts","title":"Line Chart with Varying Size (using the trail mark)","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :trail,\n    x={\n        \"date:t\",\n        axis={format=\"%Y\"}\n    },\n    y=:price,\n    size=:price,\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Markers-and-Invalid-Values-1","page":"Line Charts","title":"Line Chart with Markers and Invalid Values","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    x=[1,2,3,4,5,6,7],\n    y=[10,30,missing,15,missing,40,20]\n)\n\ndata |>\n@vlplot(\n    mark={\n        :line,\n        point=true\n    },\n    x=:x,\n    y=:y\n)","category":"page"},{"location":"examples/examples_line_charts/#Carbon-Dioxide-in-the-Atmosphere-1","page":"Line Charts","title":"Carbon Dioxide in the Atmosphere","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"co2-concentration\") |> @vlplot(\n    width=800,\n    height=500,\n    transform=[\n        {\n            calculate=\"year(datum.Date)\",\n            as=:year\n        },\n        {\n            calculate=\"month(datum.Date)\",\n            as=:month\n        },\n        {\n            calculate=\"floor(datum.year / 10) + 'x'\",\n            as=:decade\n        },\n        {\n            calculate=\"(datum.year % 10) + (datum.month/12)\",\n            as=:scaled_date\n        }\n    ]\n) +\n@vlplot(\n    :line,\n    x={\n        \"scaled_date:q\",\n        axis={\n            title=\"Year into Decade\",\n            tickCount=11\n        }\n    },\n    y={\n        \"CO2:q\",\n        axis={title=\"CO2 concentration in ppm\"},\n        scale={zero=false}\n    },\n    detail=\"decade:o\",\n    color={\"decade:n\", scale={scheme=\"magma\"}, legend={offset=40}}\n) +\n(\n    @vlplot(\n        transform=[\n            {\n                aggregate=[{\n                    op=\"argmin\",\n                    field=\"scaled_date\",\n                    as=\"start\"\n                }, {\n                    op=\"argmax\",\n                    field=\"scaled_date\",\n                    as=\"end\"\n                }],\n                groupby=[\"decade\"]\n            },\n            {\n                calculate=\"datum.start.scaled_date\",\n                as=\"scaled_date_start\"\n            },\n            {\n                calculate=\"datum.start.CO2\",\n                as=\"CO2_start\"\n            },\n            {\n                calculate=\"datum.start.year\",\n                as=\"year_start\"\n            },\n            {\n                calculate=\"datum.end.scaled_date\",\n                as=\"scaled_date_end\"\n            },\n            {\n                calculate=\"datum.end.CO2\",\n                as=\"CO2_end\"\n            },\n            {\n                calculate=\"datum.end.year\",\n                as=\"year_end\"\n            }\n        ]\n    ) +\n    @vlplot(\n        mark={\n            :text,\n            aligh=:left,\n            baseline=:top,\n            dx=3,\n            dy=1\n        },\n        x=\"scaled_date_start:q\",\n        y=\"CO2_start:q\",\n        text=\"year_start:n\"\n    ) +\n    @vlplot(\n        mark={\n            :text,\n            align=:left,\n            baseline=:bottom,\n            dx=3,\n            dy=1\n        },\n        x=\"scaled_date_end:q\",\n        y=\"CO2_end:q\",\n        text=\"year_end:n\"\n    )\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Charts-Showing-Ranks-Over-Time-1","page":"Line Charts","title":"Line Charts Showing Ranks Over Time","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    team=[\"Germany\", \"Mexico\", \"South Korea\", \"Sweden\", \"Germany\", \"Mexico\",\n        \"South Korea\", \"Sweden\", \"Germany\", \"Mexico\", \"South Korea\", \"Sweden\"],\n    matchday=[1,1,1,1,2,2,2,2,3,3,3,3],\n    point=[0,3,0,3,3,6,0,3,3,6,3,6],\n    diff=[-1,1,-1,1,0,2,-2,0,-2,-1,0,3]\n)\n\ndata |>\n@vlplot(\n    title={text=\"World Cup 2018: Group F Rankings\"},\n    transform=[{\n        sort=[\n            {field=\"point\", order=\"descending\"},\n            {field=\"diff\", order=\"descending\"}\n        ],\n        window=[{\n            op=\"rank\",\n            as=\"rank\"\n        }],\n        groupby=[\"matchday\"]\n    }],\n    mark={\n        :line,\n        orient=\"vertical\"\n    },\n    x=\"matchday:o\",\n    y=\"rank:o\",\n    color={\n        :team,\n        scale={\n            domain=[\"Germany\", \"Mexico\", \"South Korea\", \"Sweden\"],\n            range=[\"black\", \"#127153\", \"#C91A3C\", \"#0C71AB\"]\n        }\n    }\n)","category":"page"},{"location":"examples/examples_line_charts/#Drawing-Sine-and-Cosine-Curves-with-the-Sequence-Generator-1","page":"Line Charts","title":"Drawing Sine and Cosine Curves with the Sequence Generator","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite\n\n@vlplot(\n    width=300,\n    height=150,\n    data={sequence={start=0,stop=12.7,step=0.1,as=\"x\"}},\n    transform=[\n        {calculate=\"sin(datum.x)\", as=\"sin(x)\"},\n        {calculate=\"cos(datum.x)\", as=\"cos(x)\"},\n        {fold=[\"sin(x)\", \"cos(x)\"]}\n    ],\n    mark=:line,\n    x=\"x:q\",\n    y=\"value:q\",\n    color={\"key:n\",title=nothing}\n)","category":"page"},{"location":"examples/examples_histograms/#Histograms,-Density-Plots,-and-Dot-Plots-1","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"","category":"section"},{"location":"examples/examples_histograms/#Histogram-1","page":"Histograms, Density Plots, and Dot Plots","title":"Histogram","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:bar, x={:IMDB_Rating, bin=true}, y=\"count()\")","category":"page"},{"location":"examples/examples_histograms/#Histogram-(from-Binned-Data)-1","page":"Histograms, Density Plots, and Dot Plots","title":"Histogram (from Binned Data)","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, DataFrames\n\ndata=DataFrame(\n    bin_start=[8,10,12,14,16,18,20,22],\n    bin_end=[10,12,14,16,18,20,22,24],\n    count=[7,29,71,127,94,54,17,5]\n)\ndata |> @vlplot(\n    :bar, \n    x={:bin_start, bin={binned=true,step=2}}, \n    x2=:bin_end,\n    y=:count\n)","category":"page"},{"location":"examples/examples_histograms/#Log-scaled-Histogram-1","page":"Histograms, Density Plots, and Dot Plots","title":"Log-scaled Histogram","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, DataFrames\n\ndata=DataFrame(\n    x=[0.01,0.1,1,1,1,1,10,10,100,500,800]\n)\n\ndata |> @vlplot(\n    :bar, \n    transform=[\n        {calculate=\"log(datum.x)/log(10)\", as=\"log_x\"},\n        {field=\"log_x\",bin=true,as=\"bin_log_x\"},\n        {calculate=\"pow(10, datum.bin_log_x)\", as=\"x1\"},\n        {calculate=\"pow(10, datum.bin_log_x_end)\", as=\"x2\"}\n    ],\n    x={\"x1:q\", scale={type=\"log\",base=10},axis={tickCount=5}},\n    x2=:x2,\n    y={aggregate=\"count\",type=\"quantitative\"}\n)","category":"page"},{"location":"examples/examples_histograms/#Density-Plot-1","page":"Histograms, Density Plots, and Dot Plots","title":"Density Plot","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    width=400,\n    height=100,\n    :area,\n    transform=[\n        {density=\"IMDB_Rating\",bandwidth=0.3}\n    ],\n    x={\"value:q\", title=\"IMDB Rating\"},\n    y=\"density:q\"\n)","category":"page"},{"location":"examples/examples_histograms/#Stacked-Density-Estimates-1","page":"Histograms, Density Plots, and Dot Plots","title":"Stacked Density Estimates","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    width=400,\n    height=100,\n    :area,\n    transform=[\n        {density=\"IMDB_Rating\",bandwidth=0.3,groupby=[\"Major_Genre\"],extent=[0, 10],counts=true,steps=50}\n    ],\n    x={\"value:q\", title=\"IMDB Rating\"},\n    y= {\"density:q\",stack=true},\n    color={\"Major_Genre:n\",scale={scheme=:category20}}\n)","category":"page"},{"location":"examples/examples_histograms/#D-Histogram-Scatterplot-1","page":"Histograms, Density Plots, and Dot Plots","title":"2D Histogram Scatterplot","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :circle,\n    x={:IMDB_Rating, bin={maxbins=10}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=10}},\n    size=\"count()\"\n)","category":"page"},{"location":"examples/examples_histograms/#D-Histogram-Heatmap-1","page":"Histograms, Density Plots, and Dot Plots","title":"2D Histogram Heatmap","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :rect,\n    width=300, height=200,\n    x={:IMDB_Rating, bin={maxbins=60}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=40}},\n    color=\"count()\",\n    config={\n        range={\n            heatmap={\n                scheme=\"greenblue\"\n            }\n        },\n        view={\n            stroke=\"transparent\"\n        }\n    }\n)","category":"page"},{"location":"examples/examples_histograms/#Cumulative-Frequency-Distribution-1","page":"Histograms, Density Plots, and Dot Plots","title":"Cumulative Frequency Distribution","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :area,\n    transform=[{\n        sort=[{field=:IMDB_Rating}],\n        window=[{field=:count,op=\"count\",as=\"cumulative_count\"}],\n        frame=[nothing,0]\n    }],\n    x=\"IMDB_Rating:q\",\n    y=\"cumulative_count:q\"\n)","category":"page"},{"location":"examples/examples_histograms/#Layered-Histogram-and-Cumulative-Histogram-1","page":"Histograms, Density Plots, and Dot Plots","title":"Layered Histogram and Cumulative Histogram","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    transform=[\n        {bin=true,field=:IMDB_Rating,as=\"bin_IMDB_Rating\"},\n        {\n            aggregate=[{op=:count,as=\"count\"}],\n            groupby=[\"bin_IMDB_Rating\", \"bin_IMDB_Rating_end\"]\n        },\n        {filter=\"datum.bin_IMDB_Rating !== null\"},\n        {\n            sort=[{field=:bin_IMDB_Rating}],\n            window=[{field=:count,op=\"sum\",as=\"cumulative_count\"}],\n            frame=[nothing,0]\n        }\n    ],\n    x={\"bin_IMDB_Rating:q\",scale={zero=false},title=\"IMDB Rating\"},\n    x2=:bin_IMDB_Rating_end\n) +\n@vlplot(\n    :bar,\n    y=\"cumulative_count:q\"\n) +\n@vlplot(\n    mark={:bar,color=:yellow,opacity=0.5},\n    y=\"count:q\"\n)","category":"page"},{"location":"examples/examples_histograms/#Violin-Plot-1","page":"Histograms, Density Plots, and Dot Plots","title":"Violin Plot","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(\n    mark={:area, orient=\"horizontal\"},\n    transform=[\n        {density=\"Miles_per_Gallon\", groupby=[\"Origin\"], extent=[5, 50],\n        as=[\"Miles_per_Gallon\", \"density\"]}\n    ],\n    y=\"Miles_per_Gallon:q\",\n    x= {\"density:q\", stack=\"center\", impute=nothing, title=nothing,\n        axis={labels=false, values=[0], grid=false, ticks=true}},\n    column={\"Origin:n\", header={titleOrient=\"bottom\", labelOrient=\"bottom\",\n            labelPadding=0}},\n    color = \"Origin:n\",\n    width=70,\n    spacing=0,\n    config={view={stroke=nothing}}\n)","category":"page"},{"location":"examples/examples_histograms/#Wilkinson-Dot-Plot-1","page":"Histograms, Density Plots, and Dot Plots","title":"Wilkinson Dot Plot","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, DataFrames\n\ndata=DataFrame(data=[\n    1,1,1,1,1,1,1,1,1,1,\n    2,2,2,\n    3,3,\n    4,4,4,4,4,4\n])\n\ndata |> @vlplot(\n    height=100,\n    mark={:circle,opacity=1}, \n    transform=[{\n        window=[{op=:rank,as=\"id\"}],\n        groupby= [:data]\n    }],\n    x=\"data:o\",\n    y={\"id:o\",axis=nothing,sort=:descending}\n)","category":"page"},{"location":"examples/examples_histograms/#Isotype-Dot-Plot-1","page":"Histograms, Density Plots, and Dot Plots","title":"Isotype Dot Plot","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, DataFrames\n\ndf=DataFrame(\n    country=[\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\"],\n    animal=[\"cattle\",\"cattle\",\"cattle\",\"pigs\",\"pigs\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\"],\n    col=[3,2,1,2,1,10,9,8,7,6,5,4,3,2,1,9,8,7,6,5,4,3,2,1,6,5,4,3,2,1,7,6,5,4,3,2,1]\n)\npersonSVGPath=\"M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z\"\ncattleSVGPath=\"M4 -2c0 0 0.9 -0.7 1.1 -0.8c0.1 -0.1 -0.1 0.5 -0.3 0.7c-0.2 0.2 1.1 1.1 1.1 1.2c0 0.2 -0.2 0.8 -0.4 0.7c-0.1 0 -0.8 -0.3 -1.3 -0.2c-0.5 0.1 -1.3 1.6 -1.5 2c-0.3 0.4 -0.6 0.4 -0.6 0.4c0 0.1 0.3 1.7 0.4 1.8c0.1 0.1 -0.4 0.1 -0.5 0c0 0 -0.6 -1.9 -0.6 -1.9c-0.1 0 -0.3 -0.1 -0.3 -0.1c0 0.1 -0.5 1.4 -0.4 1.6c0.1 0.2 0.1 0.3 0.1 0.3c0 0 -0.4 0 -0.4 0c0 0 -0.2 -0.1 -0.1 -0.3c0 -0.2 0.3 -1.7 0.3 -1.7c0 0 -2.8 -0.9 -2.9 -0.8c-0.2 0.1 -0.4 0.6 -0.4 1c0 0.4 0.5 1.9 0.5 1.9l-0.5 0l-0.6 -2l0 -0.6c0 0 -1 0.8 -1 1c0 0.2 -0.2 1.3 -0.2 1.3c0 0 0.3 0.3 0.2 0.3c0 0 -0.5 0 -0.5 0c0 0 -0.2 -0.2 -0.1 -0.4c0 -0.1 0.2 -1.6 0.2 -1.6c0 0 0.5 -0.4 0.5 -0.5c0 -0.1 0 -2.7 -0.2 -2.7c-0.1 0 -0.4 2 -0.4 2c0 0 0 0.2 -0.2 0.5c-0.1 0.4 -0.2 1.1 -0.2 1.1c0 0 -0.2 -0.1 -0.2 -0.2c0 -0.1 -0.1 -0.7 0 -0.7c0.1 -0.1 0.3 -0.8 0.4 -1.4c0 -0.6 0.2 -1.3 0.4 -1.5c0.1 -0.2 0.6 -0.4 0.6 -0.4z\"\npigsSVGPath=\"M1.2 -2c0 0 0.7 0 1.2 0.5c0.5 0.5 0.4 0.6 0.5 0.6c0.1 0 0.7 0 0.8 0.1c0.1 0 0.2 0.2 0.2 0.2c0 0 -0.6 0.2 -0.6 0.3c0 0.1 0.4 0.9 0.6 0.9c0.1 0 0.6 0 0.6 0.1c0 0.1 0 0.7 -0.1 0.7c-0.1 0 -1.2 0.4 -1.5 0.5c-0.3 0.1 -1.1 0.5 -1.1 0.7c-0.1 0.2 0.4 1.2 0.4 1.2l-0.4 0c0 0 -0.4 -0.8 -0.4 -0.9c0 -0.1 -0.1 -0.3 -0.1 -0.3l-0.2 0l-0.5 1.3l-0.4 0c0 0 -0.1 -0.4 0 -0.6c0.1 -0.1 0.3 -0.6 0.3 -0.7c0 0 -0.8 0 -1.5 -0.1c-0.7 -0.1 -1.2 -0.3 -1.2 -0.2c0 0.1 -0.4 0.6 -0.5 0.6c0 0 0.3 0.9 0.3 0.9l-0.4 0c0 0 -0.4 -0.5 -0.4 -0.6c0 -0.1 -0.2 -0.6 -0.2 -0.5c0 0 -0.4 0.4 -0.6 0.4c-0.2 0.1 -0.4 0.1 -0.4 0.1c0 0 -0.1 0.6 -0.1 0.6l-0.5 0l0 -1c0 0 0.5 -0.4 0.5 -0.5c0 -0.1 -0.7 -1.2 -0.6 -1.4c0.1 -0.1 0.1 -1.1 0.1 -1.1c0 0 -0.2 0.1 -0.2 0.1c0 0 0 0.9 0 1c0 0.1 -0.2 0.3 -0.3 0.3c-0.1 0 0 -0.5 0 -0.9c0 -0.4 0 -0.4 0.2 -0.6c0.2 -0.2 0.6 -0.3 0.8 -0.8c0.3 -0.5 1 -0.6 1 -0.6z\"\nsheepSVGPath=\"M-4.1 -0.5c0.2 0 0.2 0.2 0.5 0.2c0.3 0 0.3 -0.2 0.5 -0.2c0.2 0 0.2 0.2 0.4 0.2c0.2 0 0.2 -0.2 0.5 -0.2c0.2 0 0.2 0.2 0.4 0.2c0.2 0 0.2 -0.2 0.4 -0.2c0.1 0 0.2 0.2 0.4 0.1c0.2 0 0.2 -0.2 0.4 -0.3c0.1 0 0.1 -0.1 0.4 0c0.3 0 0.3 -0.4 0.6 -0.4c0.3 0 0.6 -0.3 0.7 -0.2c0.1 0.1 1.4 1 1.3 1.4c-0.1 0.4 -0.3 0.3 -0.4 0.3c-0.1 0 -0.5 -0.4 -0.7 -0.2c-0.3 0.2 -0.1 0.4 -0.2 0.6c-0.1 0.1 -0.2 0.2 -0.3 0.4c0 0.2 0.1 0.3 0 0.5c-0.1 0.2 -0.3 0.2 -0.3 0.5c0 0.3 -0.2 0.3 -0.3 0.6c-0.1 0.2 0 0.3 -0.1 0.5c-0.1 0.2 -0.1 0.2 -0.2 0.3c-0.1 0.1 0.3 1.1 0.3 1.1l-0.3 0c0 0 -0.3 -0.9 -0.3 -1c0 -0.1 -0.1 -0.2 -0.3 -0.2c-0.2 0 -0.3 0.1 -0.4 0.4c0 0.3 -0.2 0.8 -0.2 0.8l-0.3 0l0.3 -1c0 0 0.1 -0.6 -0.2 -0.5c-0.3 0.1 -0.2 -0.1 -0.4 -0.1c-0.2 -0.1 -0.3 0.1 -0.4 0c-0.2 -0.1 -0.3 0.1 -0.5 0c-0.2 -0.1 -0.1 0 -0.3 0.3c-0.2 0.3 -0.4 0.3 -0.4 0.3l0.2 1.1l-0.3 0l-0.2 -1.1c0 0 -0.4 -0.6 -0.5 -0.4c-0.1 0.3 -0.1 0.4 -0.3 0.4c-0.1 -0.1 -0.2 1.1 -0.2 1.1l-0.3 0l0.2 -1.1c0 0 -0.3 -0.1 -0.3 -0.5c0 -0.3 0.1 -0.5 0.1 -0.7c0.1 -0.2 -0.1 -1 -0.2 -1.1c-0.1 -0.2 -0.2 -0.8 -0.2 -0.8c0 0 -0.1 -0.5 0.4 -0.8z\"\n\ndf |> @vlplot(\n    config={view={stroke=nothing}},\n    height=200,\n    width=800,\n    mark={:point, filled=true},\n    x={\"col:o\", axis=nothing},\n    y={\"animal:o\", axis=nothing},\n    row={\"country:n\", header={title=nothing}},\n    shape={\n        \"animal:n\",\n        scale={\n            domain=[ \"person\", \"cattle\", \"pigs\", \"sheep\" ],\n            range=[ personSVGPath, cattleSVGPath, pigsSVGPath, sheepSVGPath ]\n        },\n        legend=nothing\n    },\n    color={\n        \"animal:n\",\n        legend=nothing,\n        scale={\n            domain=[ \"person\", \"cattle\", \"pigs\", \"sheep\" ],\n            range=[\n                \"rgb(162,160,152)\",\n                \"rgb(194,81,64)\",\n                \"rgb(93,93,93)\",\n                \"rgb(91,131,149)\"\n            ]\n        }\n    },\n    opacity={ value=1 },\n    size={ value=200 }\n)","category":"page"},{"location":"examples/examples_histograms/#Isotype-Dot-Plot-with-Emoji-1","page":"Histograms, Density Plots, and Dot Plots","title":"Isotype Dot Plot with Emoji","text":"","category":"section"},{"location":"examples/examples_histograms/#","page":"Histograms, Density Plots, and Dot Plots","title":"Histograms, Density Plots, and Dot Plots","text":"using VegaLite, DataFrames\n\ndf=DataFrame(\n    country=[\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"Great,Britain\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\",\"United,States\"],\n    animal=[\"cattle\",\"cattle\",\"cattle\",\"pigs\",\"pigs\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"cattle\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"pigs\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\",\"sheep\"],\n    col=[3,2,1,2,1,10,9,8,7,6,5,4,3,2,1,9,8,7,6,5,4,3,2,1,6,5,4,3,2,1,7,6,5,4,3,2,1]\n)\npersonSVGPath=\"M1.7 -1.7h-0.8c0.3 -0.2 0.6 -0.5 0.6 -0.9c0 -0.6 -0.4 -1 -1 -1c-0.6 0 -1 0.4 -1 1c0 0.4 0.2 0.7 0.6 0.9h-0.8c-0.4 0 -0.7 0.3 -0.7 0.6v1.9c0 0.3 0.3 0.6 0.6 0.6h0.2c0 0 0 0.1 0 0.1v1.9c0 0.3 0.2 0.6 0.3 0.6h1.3c0.2 0 0.3 -0.3 0.3 -0.6v-1.8c0 0 0 -0.1 0 -0.1h0.2c0.3 0 0.6 -0.3 0.6 -0.6v-2c0.2 -0.3 -0.1 -0.6 -0.4 -0.6z\"\ncattleSVGPath=\"M4 -2c0 0 0.9 -0.7 1.1 -0.8c0.1 -0.1 -0.1 0.5 -0.3 0.7c-0.2 0.2 1.1 1.1 1.1 1.2c0 0.2 -0.2 0.8 -0.4 0.7c-0.1 0 -0.8 -0.3 -1.3 -0.2c-0.5 0.1 -1.3 1.6 -1.5 2c-0.3 0.4 -0.6 0.4 -0.6 0.4c0 0.1 0.3 1.7 0.4 1.8c0.1 0.1 -0.4 0.1 -0.5 0c0 0 -0.6 -1.9 -0.6 -1.9c-0.1 0 -0.3 -0.1 -0.3 -0.1c0 0.1 -0.5 1.4 -0.4 1.6c0.1 0.2 0.1 0.3 0.1 0.3c0 0 -0.4 0 -0.4 0c0 0 -0.2 -0.1 -0.1 -0.3c0 -0.2 0.3 -1.7 0.3 -1.7c0 0 -2.8 -0.9 -2.9 -0.8c-0.2 0.1 -0.4 0.6 -0.4 1c0 0.4 0.5 1.9 0.5 1.9l-0.5 0l-0.6 -2l0 -0.6c0 0 -1 0.8 -1 1c0 0.2 -0.2 1.3 -0.2 1.3c0 0 0.3 0.3 0.2 0.3c0 0 -0.5 0 -0.5 0c0 0 -0.2 -0.2 -0.1 -0.4c0 -0.1 0.2 -1.6 0.2 -1.6c0 0 0.5 -0.4 0.5 -0.5c0 -0.1 0 -2.7 -0.2 -2.7c-0.1 0 -0.4 2 -0.4 2c0 0 0 0.2 -0.2 0.5c-0.1 0.4 -0.2 1.1 -0.2 1.1c0 0 -0.2 -0.1 -0.2 -0.2c0 -0.1 -0.1 -0.7 0 -0.7c0.1 -0.1 0.3 -0.8 0.4 -1.4c0 -0.6 0.2 -1.3 0.4 -1.5c0.1 -0.2 0.6 -0.4 0.6 -0.4z\"\npigsSVGPath=\"M1.2 -2c0 0 0.7 0 1.2 0.5c0.5 0.5 0.4 0.6 0.5 0.6c0.1 0 0.7 0 0.8 0.1c0.1 0 0.2 0.2 0.2 0.2c0 0 -0.6 0.2 -0.6 0.3c0 0.1 0.4 0.9 0.6 0.9c0.1 0 0.6 0 0.6 0.1c0 0.1 0 0.7 -0.1 0.7c-0.1 0 -1.2 0.4 -1.5 0.5c-0.3 0.1 -1.1 0.5 -1.1 0.7c-0.1 0.2 0.4 1.2 0.4 1.2l-0.4 0c0 0 -0.4 -0.8 -0.4 -0.9c0 -0.1 -0.1 -0.3 -0.1 -0.3l-0.2 0l-0.5 1.3l-0.4 0c0 0 -0.1 -0.4 0 -0.6c0.1 -0.1 0.3 -0.6 0.3 -0.7c0 0 -0.8 0 -1.5 -0.1c-0.7 -0.1 -1.2 -0.3 -1.2 -0.2c0 0.1 -0.4 0.6 -0.5 0.6c0 0 0.3 0.9 0.3 0.9l-0.4 0c0 0 -0.4 -0.5 -0.4 -0.6c0 -0.1 -0.2 -0.6 -0.2 -0.5c0 0 -0.4 0.4 -0.6 0.4c-0.2 0.1 -0.4 0.1 -0.4 0.1c0 0 -0.1 0.6 -0.1 0.6l-0.5 0l0 -1c0 0 0.5 -0.4 0.5 -0.5c0 -0.1 -0.7 -1.2 -0.6 -1.4c0.1 -0.1 0.1 -1.1 0.1 -1.1c0 0 -0.2 0.1 -0.2 0.1c0 0 0 0.9 0 1c0 0.1 -0.2 0.3 -0.3 0.3c-0.1 0 0 -0.5 0 -0.9c0 -0.4 0 -0.4 0.2 -0.6c0.2 -0.2 0.6 -0.3 0.8 -0.8c0.3 -0.5 1 -0.6 1 -0.6z\"\nsheepSVGPath=\"M-4.1 -0.5c0.2 0 0.2 0.2 0.5 0.2c0.3 0 0.3 -0.2 0.5 -0.2c0.2 0 0.2 0.2 0.4 0.2c0.2 0 0.2 -0.2 0.5 -0.2c0.2 0 0.2 0.2 0.4 0.2c0.2 0 0.2 -0.2 0.4 -0.2c0.1 0 0.2 0.2 0.4 0.1c0.2 0 0.2 -0.2 0.4 -0.3c0.1 0 0.1 -0.1 0.4 0c0.3 0 0.3 -0.4 0.6 -0.4c0.3 0 0.6 -0.3 0.7 -0.2c0.1 0.1 1.4 1 1.3 1.4c-0.1 0.4 -0.3 0.3 -0.4 0.3c-0.1 0 -0.5 -0.4 -0.7 -0.2c-0.3 0.2 -0.1 0.4 -0.2 0.6c-0.1 0.1 -0.2 0.2 -0.3 0.4c0 0.2 0.1 0.3 0 0.5c-0.1 0.2 -0.3 0.2 -0.3 0.5c0 0.3 -0.2 0.3 -0.3 0.6c-0.1 0.2 0 0.3 -0.1 0.5c-0.1 0.2 -0.1 0.2 -0.2 0.3c-0.1 0.1 0.3 1.1 0.3 1.1l-0.3 0c0 0 -0.3 -0.9 -0.3 -1c0 -0.1 -0.1 -0.2 -0.3 -0.2c-0.2 0 -0.3 0.1 -0.4 0.4c0 0.3 -0.2 0.8 -0.2 0.8l-0.3 0l0.3 -1c0 0 0.1 -0.6 -0.2 -0.5c-0.3 0.1 -0.2 -0.1 -0.4 -0.1c-0.2 -0.1 -0.3 0.1 -0.4 0c-0.2 -0.1 -0.3 0.1 -0.5 0c-0.2 -0.1 -0.1 0 -0.3 0.3c-0.2 0.3 -0.4 0.3 -0.4 0.3l0.2 1.1l-0.3 0l-0.2 -1.1c0 0 -0.4 -0.6 -0.5 -0.4c-0.1 0.3 -0.1 0.4 -0.3 0.4c-0.1 -0.1 -0.2 1.1 -0.2 1.1l-0.3 0l0.2 -1.1c0 0 -0.3 -0.1 -0.3 -0.5c0 -0.3 0.1 -0.5 0.1 -0.7c0.1 -0.2 -0.1 -1 -0.2 -1.1c-0.1 -0.2 -0.2 -0.8 -0.2 -0.8c0 0 -0.1 -0.5 0.4 -0.8z\"\n\ndf |> @vlplot(\n    config={view={stroke=nothing}},\n    height=200,\n    width=800,\n    transform= [\n        {\n            calculate=\"{'cattle': '🐄', 'pigs': '🐖', 'sheep': '🐏'}[datum.animal]\",\n            as=:emoji\n        },\n        {window=[{op=:rank, as=:rank}], groupby=[:country, :animal]}\n    ],\n    mark={:text, baseline=:middle},\n    x={\"rank:o\", axis=nothing},\n    y={\"animal:n\", axis=nothing, sort=nothing},\n    row={\"country:n\", header={title=nothing}},\n    text=\"emoji:n\",\n    size={ value=65 }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Charts-and-Streamgraphs-1","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={format=\"%Y\"}\n    },\n    y={\n        \"sum(count)\",\n        axis={title=\"count\"}\n    }    \n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Chart-with-Gradient-1","page":"Area Charts & Streamgraphs","title":"Area Chart with Gradient","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    mark={\n        :area,\n        line={color=\"darkgreen\"},\n        color={\n            x1=1,\n            y1=1,\n            x2=1,\n            y2=0,\n            gradient=:linear,\n            stops=[\n                {offset=0,color=\"white\"},\n                {offset=1,color=\"darkgreen\"}\n            ]\n        }\n    },\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    x=\"date:t\",\n    y=\"price:q\"\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Chart-with-Overlaying-Lines-and-Point-Markers-1","page":"Area Charts & Streamgraphs","title":"Area Chart with Overlaying Lines and Point Markers","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :area,\n        line=true,\n        point=true\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Stacked-Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, hieght=200,\n    x={\n        \"yearmonth(date)\",\n        axis={format=\"%Y\"}\n    },\n    y=\"sum(count)\",\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Normalized-Stacked-Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Normalized Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={\n            domain=false,\n            format=\"%Y\"\n        }\n    },\n    y={\n        \"sum(count)\",\n        axis=nothing,\n        stack=:normalize\n    },\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Streamgraph-1","page":"Area Charts & Streamgraphs","title":"Streamgraph","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={\n            domain=false,\n            format=\"%Y\",\n            tickSize=0\n        }\n    },\n    y={\n        \"sum(count)\",\n        axis=nothing,\n        stack=:center\n    },\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Horizon-Graph-1","page":"Area Charts & Streamgraphs","title":"Horizon Graph","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    x=1:20,\n    y=[28,55,43,91,81,53,19,87,52,48,24,49,87,66,17,27,68,16,49,15]\n)\n\ndata |>\n@vlplot(width=300, height=50, config={area={interpolate=:monotone}}) +\n@vlplot(\n    mark={\n        :area,\n        clip=true,\n        orient=:vertical\n    },\n    x={:x, scale={zero=false, nice=false}},\n    y={:y, scale={domain=[0,50]}},\n    opacity={value=0.6}\n) +\n@vlplot(\n    transform=[{calculate=\"datum.y-50\", as=:ny}],\n    mark={\n        :area,\n        clip=true,\n        orient=:vertical\n    },\n    x=:x,\n    y={\n        \"ny:q\",\n        scale={domain=[0,50]},\n        axis={title=\"y\"}\n    },\n    opacity={value=0.3}\n)","category":"page"},{"location":"gettingstarted/installation/#Installation-1","page":"Installation","title":"Installation","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"To install VegaLite.jl, run the following command in the Julia Pkg REPL-mode:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add VegaLite","category":"page"},{"location":"gettingstarted/installation/#REPL-frontends-1","page":"Installation","title":"REPL frontends","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"If you create plots from the standard Julia REPL, they will show up in a browser window when displayed.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"As an alternative you can install ElectronDisplay.jl with pkg> add ElectronDisplay. Whenever you load that package with using ElectronDisplay, any plot you display will then show up in an electron based window instead of a browser window.","category":"page"},{"location":"gettingstarted/installation/#Notebook-frontends-1","page":"Installation","title":"Notebook frontends","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"VegaLite.jl works with Jupyter Lab, Jupyter Notebook and nteract.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"The first step to use any of these notebooks frontends is to install them. The second step is to install the general Julia integration by running the following Julia code:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add IJulia","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"At that point you should be able to use VegaLite.jl in notebooks that have a Julia kernel.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"We recommend that you use either Jupyter Lab or nteract for the best VegaLite.jl experience: you will get the full interactive experience of Vega-Lite in those two frontends without any further installations. While you can display plots in the classic Jupyter Notebook, you won't get interactive plots in that environment without further setup steps.","category":"page"},{"location":"gettingstarted/installation/#VS-Code-and-Juno/Atom-1","page":"Installation","title":"VS Code and Juno/Atom","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"If you plot from within VS Code with the Julia extension or Juno/Atom, plots will show up in a plot pane in those editors.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"Plots in VS Code support all features of VegaLite.jl, including all interactive features. The plot pane in Juno currently does not support the interactive features of VegaLite.jl.","category":"page"},{"location":"gettingstarted/installation/#Example-Datasets-1","page":"Installation","title":"Example Datasets","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"Many of the examples in the documentation use data from the Vega Datasets repository. You can access these datasets easily with the Julia package VegaDatasets.jl. To install that package, run the following Julia code:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add VegaDatasets","category":"page"},{"location":"examples/examples_advancedcalculations/#Advanced-Calculations-1","page":"Advanced Calculations","title":"Advanced Calculations","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#Calculate-Percentage-of-Total-1","page":"Advanced Calculations","title":"Calculate Percentage of Total","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    Activity=[\"Sleeping\",\"Eating\",\"TV\",\"Work\",\"Exercise\"],\n    Time=[8,2,4,8,2]\n)\n\ndata |> \n@vlplot(\n    height={step=12},\n    :bar,\n    transform=[\n        {\n            window=[{op=\"sum\",field=\"Time\",as=\"TotalTime\"}],\n            frame=[nothing,nothing]\n        },\n        {\n            calculate=\"datum.Time/datum.TotalTime * 100\",\n            as=\"PercentOfTotal\"\n        }\n    ],\n    x={\"PercentOfTotal:q\", axis={title=\"% of total Time\"}},\n    y={\"Activity:n\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"A bar graph showing what activites consume what percentage of the day.","category":"page"},{"location":"examples/examples_advancedcalculations/#Calculate-Difference-from-Average-1","page":"Advanced Calculations","title":"Calculate Difference from Average","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    transform=[\n        {filter=\"datum.IMDB_Rating != null\"},\n        {\n            joinaggregate= [{\n                op=:mean,\n                field=:IMDB_Rating,\n                as=\"AverageRating\"\n            }]\n        },\n        {filter=\"(datum.IMDB_Rating - datum.AverageRating) > 2.5\"}\n    ]\n) + \n@vlplot(\n    :bar,\n    x={\"IMDB_Rating:q\",axis={title=\"IMDB Rating\"}},\n    y={\"Title:o\"}\n) +\n@vlplot(\n    mark={\n        :rule,\n        color=\"red\"\n    },\n    x={\"AverageRating:q\", aggregate=\"average\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Calculate-Difference-from-Annual-Average-1","page":"Advanced Calculations","title":"Calculate Difference from Annual Average","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    transform=[\n        {filter=\"datum.IMDB_Rating != null\"},\n        {timeUnit=\"year\",field=\"Release_Date\",as=\"year\"},\n        {\n            joinaggregate= [{\n                op=:mean,\n                field=:IMDB_Rating,\n                as=\"AverageYearRating\"\n            }],\n            groupby=[\"year\"]\n        },\n        {\n            filter=\"(datum.IMDB_Rating - datum.AverageYearRating) > 2.5\"\n        }\n    ]\n) + \n@vlplot(\n    mark={:bar,clip=true},\n    x={\"IMDB_Rating:q\",axis={title=\"IMDB Rating\"}},\n    y={\"Title:o\"}\n) +\n@vlplot(\n    mark=:tick,\n    color={value=\"red\"},\n    x=\"AverageYearRating:q\",\n    y=\"Title:o\"\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Bar graph showing the best films for the year they were produced, where best is defined by at least 2.5 points above average for that year. The red point shows the average rating for a film in that year, and the bar is the rating that the film recieved.","category":"page"},{"location":"examples/examples_advancedcalculations/#Calculate-Residuals-1","page":"Advanced Calculations","title":"Calculate Residuals","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    transform=[\n        {filter=\"datum.IMDB_Rating != null\"},\n        {filter={timeUnit=\"year\",field=\"Release_Date\",range=[1900,2019]}},\n        {\n            joinaggregate=[{\n                op=\"mean\",\n                field=\"IMDB_Rating\",\n                as=\"AverageRating\"\n            }]\n        },\n        {\n            calculate=\"datum.IMDB_Rating - datum.AverageRating\",\n            as=\"RatingDelta\"\n        }\n    ],\n    :point,\n    x=\"Release_Date:t\",\n    y={\"RatingDelta:q\", axis={title=\"Rating Delta\"}},\n    color={\"RatingDelta:q\",scale={domainMid=0},title=\"Rating Delta\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.","category":"page"},{"location":"examples/examples_advancedcalculations/#Line-Charts-Showing-Ranks-Over-Time-1","page":"Advanced Calculations","title":"Line Charts Showing Ranks Over Time","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    team=[\"Germany\", \"Mexico\", \"South Korea\", \"Sweden\", \"Germany\", \"Mexico\",\n        \"South Korea\", \"Sweden\", \"Germany\", \"Mexico\", \"South Korea\", \"Sweden\"],\n    matchday=[1,1,1,1,2,2,2,2,3,3,3,3],\n    point=[0,3,0,3,3,6,0,3,3,6,3,6],\n    diff=[-1,1,-1,1,0,2,-2,0,-2,-1,0,3]\n)\n\ndata |>\n@vlplot(\n    title={text=\"World Cup 2018: Group F Rankings\"},\n    transform=[{\n        sort=[\n            {field=\"point\", order=\"descending\"},\n            {field=\"diff\", order=\"descending\"}\n        ],\n        window=[{\n            op=\"rank\",\n            as=\"rank\"\n        }],\n        groupby=[\"matchday\"]\n    }],\n    mark={\n        :line,\n        orient=\"vertical\"\n    },\n    x=\"matchday:o\",\n    y=\"rank:o\",\n    color={\n        :team,\n        scale={\n            domain=[\"Germany\", \"Mexico\", \"South Korea\", \"Sweden\"],\n            range=[\"black\", \"#127153\", \"#C91A3C\", \"#0C71AB\"]\n        }\n    }\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Waterfall-Chart-of-Monthly-Profit-and-Loss-1","page":"Advanced Calculations","title":"Waterfall Chart of Monthly Profit and Loss","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    label=[\"Begin\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"End\"],\n    amount=[4000,1707,-1425,-1030,1812,-1067,-1481,1228,1176,1146,1205,-1388,1492,0]\n)\n\ndata |>\n@vlplot(\n    width=800,\n    height=450,\n    transform=[\n        {window=[{op=\"sum\",field=\"amount\",as=\"sum\"}]},\n        {window=[{op=\"lead\",field=\"label\",as=\"lead\"}]},\n        {\n            calculate=\"datum.lead === null ? datum.label : datum.lead\",\n            as=\"lead\"\n        },\n        {\n            calculate=\"datum.label === 'End' ? 0 : datum.sum - datum.amount\",\n            as=\"previous_sum\"\n        },\n        {\n            calculate=\"datum.label === 'End' ? datum.sum : datum.amount\",\n            as=\"amount\"\n        },\n        {\n            calculate=\"(datum.label !== 'Begin' && datum.label !== 'End' && datum.amount > 0 ? '+' : '') + datum.amount\",\n            as=\"text_amount\"\n        },\n        {\n            calculate=\"(datum.sum + datum.previous_sum) / 2\",\n            as=\"center\"\n        },\n        {\n            calculate=\"datum.sum < datum.previous_sum ? datum.sum : ''\",\n            as=\"sum_dec\"\n        },\n        {\n            calculate=\"datum.sum > datum.previous_sum ? datum.sum : ''\",\n            as=\"sum_inc\"\n        }\n    ],\n    x={\"label:o\",sort=nothing,axis={labelAngle=0,title=\"Months\"}},\n    config={\n        text={\n            fontWeight=\"bold\",\n            color=\"#404040\"\n        }\n    }\n) + \n@vlplot(\n    mark={:bar,size=45},\n    y={\"previous_sum:q\",title=\"Amount\"},\n    y2=:sum,\n    color={\n        condition=[\n            {test=\"datum.label === 'Begin' || datum.label === 'End'\",value=\"#f7e0b6\"},\n            {test=\"datum.sum < datum.previous_sum\",value=\"#f78a64\"}\n        ],\n        value=\"#93c4aa\"\n    }\n) +\n@vlplot(\n    mark={\n        :rule,\n        color=\"#404040\",\n        opacity=1,\n        strokeWidth=2,\n        xOffset=-22.5,\n        x2Offset=22.5\n    },\n    x2=:lead,\n    y=\"sum:q\"\n) +\n@vlplot(\n    mark={\n        :text,\n        dy=-4,\n        baseline=\"bottom\"\n    },\n    y=\"sum_inc:q\",\n    text=\"sum_inc:n\"\n) +\n@vlplot(\n    mark={\n        :text,\n        dy=4,\n        baseline=\"top\"\n    },\n    y=\"sum_dec:q\",\n    text=\"sum_dec:n\"\n) +\n@vlplot(\n    mark={\n        :text,\n        fontWeight=\"bold\",\n        baseline=\"middle\"\n    },\n    y=\"center:q\",\n    text=\"text_amount:n\",\n    color={\n        condition=[\n            {test=\"datum.label === 'Begin' || datum.label === 'End'\",value=\"#725a30\"}\n        ],\n        value=\"white\"\n    }\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Filtering-Top-K-Items-1","page":"Advanced Calculations","title":"Filtering Top-K Items","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    student=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\"],\n    score=[100,56,88,65,45,23,66,67,13,12,50,78,66,30,97,75,24,42,76,78,21,46]\n)\n\ndata |>\n@vlplot(\n    transform=[\n        {\n            window=[{ op=\"rank\", as=\"rank\" }],\n            sort=[{ field=\"score\", order=\"descending\" }]\n        },\n        {filter=\"datum.rank <= 5\"}\n    ],\n    mark=:bar,\n    x=\"score:q\",\n    y={\n        \"student:n\",\n        sort={field=\"score\",op=\"average\",order=\"descending\"}\n    }\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Here we use window transform to derive the total number of students along with the rank of the current student to determine the top K students and display their score.","category":"page"},{"location":"examples/examples_advancedcalculations/#Top-K-Plot-with-\"Others\"-1","page":"Advanced Calculations","title":"Top-K Plot with \"Others\"","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    title=\"Top Directors by Average Worldwide Gross\",\n    transform=[\n        {\n            aggregate=[{op=\"mean\",field=\"Worldwide_Gross\",as=\"aggregate_gross\"}],\n            groupby=[\"Director\"]\n        },\n        {\n            window=[{op=\"row_number\", as=\"rank\"}],\n            sort=[{field=\"aggregate_gross\",order=\"descending\"}]\n        },\n        {\n            calculate=\"datum.rank < 10 ? datum.Director : 'All Others'\", as=\"ranked_director\"\n        }\n    ],\n    :bar,\n    x={aggregate=\"mean\",\"aggregate_gross:q\",title=nothing},\n    y={\n        sort={op=\"mean\",field=\"aggregate_gross\",order=\"descending\"},\n        \"ranked_director:o\",\n        title=nothing\n    }\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Top-K plot with \\\"others\\\" by Trevor Manz, adapted from https://observablehq.com/@manzt/top-k-plot-with-others-vega-lite-example.","category":"page"},{"location":"examples/examples_advancedcalculations/#Using-the-lookup-transform-to-combine-data-1","page":"Advanced Calculations","title":"Using the lookup transform to combine data","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"lookup_groups\") |>\n@vlplot(\n    transform=[\n        {\n            lookup=\"person\",\n            from={\n                data=dataset(\"lookup_people\"),\n                key=\"name\",\n                fields=[\"age\",\"height\"]\n            }\n        }\n    ],\n    :bar,\n    x=\"group:o\",\n    y={\"age:q\",aggregate=\"mean\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Cumulative-Frequency-Distribution-1","page":"Advanced Calculations","title":"Cumulative Frequency Distribution","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :area,\n    transform=[{\n        sort=[{field=:IMDB_Rating}],\n        window=[{field=:count,op=\"count\",as=\"cumulative_count\"}],\n        frame=[nothing,0]\n    }],\n    x=\"IMDB_Rating:q\",\n    y=\"cumulative_count:q\"\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Layered-Histogram-and-Cumulative-Histogram-1","page":"Advanced Calculations","title":"Layered Histogram and Cumulative Histogram","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    transform=[\n        {bin=true,field=:IMDB_Rating,as=\"bin_IMDB_Rating\"},\n        {\n            aggregate=[{op=:count,as=\"count\"}],\n            groupby=[\"bin_IMDB_Rating\", \"bin_IMDB_Rating_end\"]\n        },\n        {filter=\"datum.bin_IMDB_Rating !== null\"},\n        {\n            sort=[{field=:bin_IMDB_Rating}],\n            window=[{field=:count,op=\"sum\",as=\"cumulative_count\"}],\n            frame=[nothing,0]\n        }\n    ],\n    x={\"bin_IMDB_Rating:q\",scale={zero=false},title=\"IMDB Rating\"},\n    x2=:bin_IMDB_Rating_end\n) +\n@vlplot(\n    :bar,\n    y=\"cumulative_count:q\"\n) +\n@vlplot(\n    mark={:bar,color=:yellow,opacity=0.5},\n    y=\"count:q\"\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Parallel-Coordinate-Plot-1","page":"Advanced Calculations","title":"Parallel Coordinate Plot","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"iris\") |>\n@vlplot(\n    width=600,\n    height=300,\n    config={\n        axisX={domain=false, labelAngle=0, tickColor=\"#ccc\", \"title\"=nothing},\n        view={stroke=nothing},\n        style={\n            label={baseline=\"middle\", align=\"right\", dx=-5},\n            tick={orient=\"horizontal\"}\n        }\n    },\n    transform=[\n        { window=[{op=\"count\", as=\"index\" }] },\n        {fold=[\"petalLength\", \"petalWidth\", \"sepalLength\", \"sepalWidth\"]},\n        {\n            joinaggregate=[\n                {op=\"min\",field=\"value\",as=\"min\"},\n                {op=\"max\",field=\"value\",as=\"max\"}\n            ],\n            groupby=[\"key\"]\n        },\n        {\n            calculate=\"(datum.value - datum.min) / (datum.max-datum.min)\",\n            as=\"norm_val\"\n        },\n        {\n            calculate=\"(datum.min + datum.max) / 2\",\n            as=\"mid\"\n        },\n        {\n            calculate=\"'petalLength: '+datum.petalLength+', '+'petalWidth: '+datum.petalWidth+', sepalLength: '+datum.sepalLength+', '+'sepalWidth: '+datum.sepalWidth\",\n            as=\"tt\"\n        } #How to add a line break?\n    ]\n) +\n@vlplot(\n    mark={:rule,color=\"#ccc\"},\n    detail={aggregate=\"count\",type=\"quantitative\"},\n    x=\"key:n\"\n) +\n@vlplot(\n    mark=:line,\n    color={field=\"species\",type=\"nominal\"},\n    detail={field=\"index\",type=\"nominal\"},\n    opacity={value=0.3},\n    x=\"key:n\",\n    y={\"norm_val:q\",axis=nothing},\n    tooltip={\"tt:n\"}\n)  +\n@vlplot(\n    mark={:text,style=\"label\"},\n    text={aggregate=\"max\",field=\"max\",type=\"quantitative\"},\n    x=\"key:n\",\n    y={value=0}\n)  +\n@vlplot(\n    mark={:tick,style=\"tick\",size=8,color=\"#ccc\"},\n    x=\"key:n\",\n    y={value=0}\n)  +\n@vlplot(\n    mark={:text,style=\"label\"},\n    text={aggregate=\"min\",field=\"mid\",type=\"quantitative\"},\n    x=\"key:n\",\n    y={value=150}\n)  +\n@vlplot(\n    mark={:tick,style=\"tick\",size=8,color=\"#ccc\"},\n    x=\"key:n\",\n    y={value=150}\n)  +\n@vlplot(\n    mark={:text,style=\"label\"},\n    text={aggregate=\"min\",field=\"min\",type=\"quantitative\"},\n    x=\"key:n\",\n    y={value=300}\n)  +\n@vlplot(\n    mark={:tick,style=\"tick\",size=8,color=\"#ccc\"},\n    x=\"key:n\",\n    y={value=300}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Though Vega-Lite supports only one scale per axes, one can create a parallel coordinate plot by folding variables, using joinaggregate to normalize their values and using ticks and rules to manually create axes.","category":"page"},{"location":"examples/examples_advancedcalculations/#Bar-Chart-Showing-Argmax-Value-1","page":"Advanced Calculations","title":"Bar Chart Showing Argmax Value","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    mark=:bar,\n    x={aggregate={argmax=\"US_Gross\"},\"Production_Budget:q\"},\n    y={\"Major_Genre:n\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"The production budget of the movie that has the highest US Gross in each major genre.","category":"page"},{"location":"examples/examples_advancedcalculations/#Layering-Averages-over-Raw-Values-1","page":"Advanced Calculations","title":"Layering Averages over Raw Values","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}]\n) +\n@vlplot(\n    mark={:point,opacity=0.3},\n    x={timeUnit=\"year\",\"date:t\"},\n    y=\"price:q\"\n) +\n@vlplot(\n    mark=:line,\n    x={timeUnit=\"year\",\"date:t\"},\n    y={aggregate=\"mean\",\"price:q\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Plot showing average data with raw values in the background.","category":"page"},{"location":"examples/examples_advancedcalculations/#Layering-Rolling-Averages-over-Raw-Values-1","page":"Advanced Calculations","title":"Layering Rolling Averages over Raw Values","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    width=400,\n    height=300,\n    transform=[{\n        frame=[-15,15],\n        window=[{field=\"temp_max\",op=\"mean\",as=\"rolling_mean\"}]\n    }]\n) +\n@vlplot(\n    mark={:point,opacity=0.3},\n    x={\"date:t\",title=\"Date\"},\n    y={\"temp_max:q\",title=\"Max Temperature\"}\n) +\n@vlplot(\n    mark={:line,size=3,color=\"red\"},\n    x={\"date:t\",title=\"Date\"},\n    y={\"rolling_mean:q\"}\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"Plot showing a 30 day rolling average with raw values in the background.","category":"page"},{"location":"examples/examples_advancedcalculations/#Line-Chart-to-Show-Benchmarking-Results-1","page":"Advanced Calculations","title":"Line Chart to Show Benchmarking Results","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, DataFrames\n\ndata=DataFrame(\n    falcon= [16.81999969482422,19.759998321533203,16.079999923706055,19.579999923706055,16.420000076293945,16.200000762939453,16.020000457763672,15.9399995803833,16.280000686645508,16.119998931884766,16.15999984741211,16.119998931884766,16.139999389648438,16.100000381469727,16.200000762939453,16.260000228881836,19.35999870300293,19.700000762939453,15.9399995803833,19.139999389648438,16.200000762939453,16.119998931884766,19.520000457763672,19.700000762939453,16.200000762939453,20.979999542236328,16.299999237060547,16.420000076293945,16.81999969482422,16.5,16.560001373291016,16.18000030517578,16.079999923706055,16.239999771118164,16.040000915527344,16.299999237060547,19.399999618530273,15.699999809265137,16.239999771118164,15.920000076293945,16.259998321533203,16.219999313354492,16.520000457763672,16.459999084472656,16.360000610351562,15.719999313354492,16.060001373291016,15.960000991821289,16.479999542236328,16.600000381469727,16.240001678466797,16.940000534057617,16.220001220703125,15.959999084472656,15.899999618530273,16.479999542236328,16.31999969482422,15.75999927520752,15.999998092651367,16.18000030517578,16.219999313354492,15.800000190734863,16.139999389648438,16.299999237060547,16.360000610351562,16.260000228881836,15.959999084472656,15.9399995803833,16.53999900817871,16.139999389648438,16.259998321533203,16.200000762939453,15.899999618530273,16.079999923706055,16.079999923706055,15.699999809265137,15.660000801086426,16.139999389648438,23.100000381469727,16.600000381469727,16.420000076293945,16.020000457763672,15.619999885559082,16.35999870300293,15.719999313354492,15.920001029968262,15.5600004196167,16.34000015258789,22.82000160217285,15.660000801086426,15.5600004196167,16,16,15.819999694824219,16.399999618530273,16.46000099182129,16.059999465942383,16.239999771118164,15.800000190734863,16.15999984741211,16.360000610351562,19.700000762939453,16.10000228881836,16.139999389648438,15.819999694824219,16.439998626708984,16.139999389648438,16.020000457763672,15.860000610351562,16.059999465942383,16.020000457763672,15.920000076293945,15.819999694824219,16.579999923706055,15.880000114440918,16.579999923706055,15.699999809265137,19.380001068115234,19.239999771118164,16,15.980000495910645,15.959999084472656,16.200000762939453,15.980000495910645,16.34000015258789,16.31999969482422,16.260000228881836,15.920000076293945,15.540000915527344,16.139999389648438,16.459999084472656,16.34000015258789,15.819999694824219,19.719999313354492,15.75999927520752,16.499998092651367,15.719999313354492,16.079999923706055,16.439998626708984,16.200000762939453,15.959999084472656,16,16.100000381469727,19.31999969482422,16.100000381469727,16.18000030517578,15.959999084472656,22.639999389648438,15.899999618530273,16.279998779296875,16.100000381469727,15.920000076293945,16.079999923706055,16.260000228881836,15.899999618530273,15.820001602172852,15.699999809265137,15.979998588562012,16.380001068115234,16.040000915527344,19.420000076293945,15.9399995803833,16.15999984741211,15.960000991821289,16.259998321533203,15.780000686645508,15.880000114440918,15.980000495910645,16.060001373291016,16.119998931884766,23.020000457763672,15.619999885559082,15.920000076293945,16.060001373291016,14.780000686645508,16.260000228881836,19.520000457763672,16.31999969482422,16.600000381469727,16.219999313354492,19.740001678466797,19.46000099182129,15.940000534057617,15.839999198913574,16.100000381469727,16.46000099182129,16.17999839782715,16.100000381469727,15.9399995803833,16.060001373291016,15.860000610351562,15.819999694824219,16.03999900817871,16.17999839782715,15.819999694824219,17.299999237060547,15.9399995803833,15.739999771118164,15.719999313354492,15.679998397827148,15.619999885559082,15.600000381469727,16.03999900817871,15.5,15.600001335144043,19.439998626708984,15.960000991821289,16.239999771118164,16.040000915527344,16.239999771118164],\n    square= [24.200000762939453,17.899999618530273,15.800000190734863,58.400001525878906,151,2523.10009765625,245.3000030517578,136,72.30000305175781,55.70000076293945,42.400001525878906,37.70000076293945,30.100000381469727,30.100000381469727,21.799999237060547,20.600000381469727,21.799999237060547,17.600000381469727,18.200000762939453,21,941.7000122070312,177.39999389648438,2821.800048828125,359.20001220703125,318,217.10000610351562,126,69,57.79999923706055,45.29999923706055,35.599998474121094,29.100000381469727,23.799999237060547,44.20000076293945,17.700000762939453,17.700000762939453,15.699999809265137,27.799999237060547,22.799999237060547,3853.60009765625,91.5999984741211,181.39999389648438,476.29998779296875,265.8999938964844,254.60000610351562,2583.199951171875,124.80000305175781,73.19999694824219,56.400001525878906,48.70000076293945,41.599998474121094,21.100000381469727,20.299999237060547,21.299999237060547,18.299999237060547,17.100000381469727,19.5,828.2000122070312,162.1999969482422,217.89999389648438,205.5,197.60000610351562,2249.800048828125,103.0999984741211,71.69999694824219,57.599998474121094,41.400001525878906,34.5,22,20.5,21.700000762939453,18.299999237060547,17.299999237060547,19.399999618530273,666.7999877929688,214.89999389648438,212.3000030517578,125.80000305175781,67.69999694824219,56.099998474121094,45.79999923706055,38.29999923706055,33,35.400001525878906,22.700000762939453,19.399999618530273,19.899999618530273,24.100000381469727,19.299999237060547,21.299999237060547,3508.699951171875,204.10000610351562,125.4000015258789,65.30000305175781,60.79999923706055,44.099998474121094,36.29999923706055,30.5,28.600000381469727,16.5,18.600000381469727,23.700000762939453,22.299999237060547,17.600000381469727,19.200000762939453,448.79998779296875,124.4000015258789,66.5999984741211,53.5,51,45.20000076293945,28.399999618530273,29.200000762939453,26.700000762939453,25.899999618530273,18.100000381469727,17.600000381469727,20.100000381469727,25.200000762939453,3332,67.5,53.599998474121094,56.599998474121094,39.900001525878906,27.600000381469727,29.600000381469727,33.5,17.200000762939453,18.799999237060547,25.200000762939453,16.700000762939453,16.899999618530273,240.1999969482422,52.400001525878906,42.099998474121094,33.900001525878906,28,28.600000381469727,17.299999237060547,20,21,22.799999237060547,16.700000762939453,19.200000762939453,175.39999389648438,43.5,34.70000076293945,29.700000762939453,34.900001525878906,25.799999237060547,17.299999237060547,22.600000381469727,17.600000381469727,17.200000762939453,19.200000762939453,111.80000305175781,35.400001525878906,27.600000381469727,25.399999618530273,21.899999618530273,18.600000381469727,18.100000381469727,21.200000762939453,17.899999618530273,17,80.5999984741211,29.799999237060547,30.100000381469727,16,26.799999237060547,17.5,22.299999237060547,16.799999237060547,22.399999618530273,77.4000015258789,31,29.700000762939453,28.700000762939453,26,16.899999618530273,15.800000190734863,19,52.599998474121094,25.200000762939453,16.700000762939453,17.899999618530273,21,19.799999237060547,18.799999237060547,46.5,17.5,16.799999237060547,18.299999237060547,18.299999237060547,14.899999618530273,41,18.299999237060547,17.299999237060547,17,17.5,32.29999923706055,22.600000381469727,16.600000381469727,17.899999618530273,25.600000381469727,17.5,20.299999237060547,25.200000762939453,18.600000381469727,17.700000762939453]\n)\n\ndata |>\n@vlplot(\n    width=400,\n    height=200,\n    x={\n        \"row:q\",\n        title=\"Trial\",\n        scale={nice=false},\n        axis={grid=false}\n    },\n    y={\n        \"fps:q\",\n        title=\"Frames Per Second (fps)\",\n        scale={type=\"log\"},\n        axis={grid=false}\n    },\n    color={\n        \"system:n\",\n        title=\"System\",\n        legend={orient=\"bottom-right\"}\n    },\n    \"size\"={value=1}\n) +\n@vlplot(\n    mark=:line,\n    transform=[\n        {window=[{field=\"falcon\",op=\"row_number\",as=\"row\"}]},\n        {calculate=\"1000/datum.falcon\",as=\"fps\"},\n        {calculate=\"'Falcon'\",as=\"system\"}\n    ]\n) +\n@vlplot(\n    mark=:line,\n    transform=[\n        {window=[{field=\"square\",op=\"row_number\",as=\"row\"}]},\n        {calculate=\"1000/datum.square\",as=\"fps\"},\n        {calculate=\"'Square Crossfilter (3M)'\",as=\"system\"}\n    ]\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Quantile-Quantile-Plot-(QQ-Plot)-1","page":"Advanced Calculations","title":"Quantile-Quantile Plot (QQ Plot)","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"normal-2d\") |>\n@vlplot(\n    columns=2,\n    transform=[\n        {\n            quantile=\"u\",\n            step=0.01,\n            as=[\"p\",\"v\"]\n        },\n        {\n           calculate=\"quantileUniform(datum.p)\",as=\"unif\"\n        },\n        {\n           calculate=\"quantileNormal(datum.p)\",as=\"norm\"\n        }\n    ]\n) + [\n    @vlplot(\n        mark=:point,\n        x=\"unif:q\",\n        y=\"v:q\"\n    );\n    @vlplot(\n        mark=:point,\n        x=\"norm:q\",\n        y=\"v:q\"\n    )\n]","category":"page"},{"location":"examples/examples_advancedcalculations/#Linear-Regression-1","page":"Advanced Calculations","title":"Linear Regression","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\nlayer=[{\n    mark={:point,filled=true},\n    x=\"Rotten_Tomatoes_Rating:q\",\n    y=\"IMDB_Rating:q\"\n},\n{\n    transform=[\n        {\n            regression=\"IMDB_Rating\",\n            on=\"Rotten_Tomatoes_Rating\"\n        }\n    ],\n    mark={:line,color=\"firebrick\"},\n    x=\"Rotten_Tomatoes_Rating:q\",\n    y=\"IMDB_Rating:q\"\n},\n{\n    transform=[\n        {\n            regression=\"IMDB_Rating\",\n            on=\"Rotten_Tomatoes_Rating\",\n            params=true\n        },\n        {\n            calculate=\"'R²: '+format(datum.rSquared, '.2f')\",\n            as=\"R2\"\n        }\n    ],\n    mark={:text,color=\"firebrick\",x=\"width\",align=\"right\",y=-5},\n    text={\"R2:n\"}\n}]\n)","category":"page"},{"location":"examples/examples_advancedcalculations/#Loess-Regression-1","page":"Advanced Calculations","title":"Loess Regression","text":"","category":"section"},{"location":"examples/examples_advancedcalculations/#","page":"Advanced Calculations","title":"Advanced Calculations","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\nlayer=[{\n    mark={:point,filled=true},\n    x=\"Rotten_Tomatoes_Rating:q\",\n    y=\"IMDB_Rating:q\"\n},\n{\n    transform=[\n        {\n            loess=\"IMDB_Rating\",\n            on=\"Rotten_Tomatoes_Rating\"\n        }\n    ],\n    mark={:line,color=\"firebrick\"},\n    x=\"Rotten_Tomatoes_Rating:q\",\n    y=\"IMDB_Rating:q\"\n}]\n)","category":"page"},{"location":"examples/examples_maps/#Choropleth-of-unemployment-rate-per-county-1","page":"Maps (Geographic Displays)","title":"Choropleth of unemployment rate per county","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nunemployment = dataset(\"unemployment\")\n\n@vlplot(\n    :geoshape,\n    width=500, height=300,\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:counties\n        }\n    },\n    transform=[{\n        lookup=:id,\n        from={\n            data=unemployment,\n            key=:id,\n            fields=[\"rate\"]\n        }\n    }],\n    projection={\n        type=:albersUsa\n    },\n    color=\"rate:q\"\n)","category":"page"},{"location":"examples/examples_maps/#One-dot-per-zipcode-in-the-U.S.-1","page":"Maps (Geographic Displays)","title":"One dot per zipcode in the U.S.","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\ndataset(\"zipcodes\") |>\n@vlplot(\n    :circle,\n    width=500, height=300,\n    transform=[{calculate=\"substring(datum.zip_code, 0, 1)\", as=:digit}],\n    projection={type=:albersUsa},\n    longitude=:longitude,\n    latitude=:latitude,\n    size={value=1},\n    color=\"digit:n\"\n)","category":"page"},{"location":"examples/examples_maps/#One-dot-per-airport-in-the-US-overlayed-on-geoshape-1","page":"Maps (Geographic Displays)","title":"One dot per airport in the US overlayed on geoshape","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\n\n@vlplot(width=500, height=300) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=10},\n    color={value=:steelblue}\n)","category":"page"},{"location":"examples/examples_maps/#Rules-(line-segments)-connecting-SEA-to-every-airport-reachable-via-direct-flight-1","page":"Maps (Geographic Displays)","title":"Rules (line segments) connecting SEA to every airport reachable via direct flight","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\nflightsairport = dataset(\"flights-airport\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa}\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=5},\n    color={value=:gray}\n) +\n@vlplot(\n    :rule,\n    data=flightsairport,\n    transform=[\n        {filter={field=:origin,equal=:SEA}},\n        {\n            lookup=:origin,\n            from={\n                data=airports,\n                key=:iata,\n                fields=[\"latitude\", \"longitude\"]\n            },\n            as=[\"origin_latitude\", \"origin_longitude\"]\n        },\n        {\n            lookup=:destination,\n            from={\n                data=airports,\n                key=:iata,\n                fields=[\"latitude\", \"longitude\"]\n            },\n            as=[\"dest_latitude\", \"dest_longitude\"]\n        }\n    ],\n    projection={type=:albersUsa},\n    longitude=\"origin_longitude:q\",\n    latitude=\"origin_latitude:q\",\n    longitude2=\"dest_longitude:q\",\n    latitude2=\"dest_latitude:q\"\n)","category":"page"},{"location":"examples/examples_maps/#Three-choropleths-representing-disjoint-data-from-the-same-table-1","page":"Maps (Geographic Displays)","title":"Three choropleths representing disjoint data from the same table","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nrows = dataset(\"population_engineers_hurricanes\")\n\n@vlplot(\n    title=\"The population per state, engineers per state, and hurricanes per state\",\n    repeat={\n        row=[\"population\", \"engineers\", \"hurricanes\"]\n    },\n    resolve={\n        scale={\n            color=:independent\n        }\n    }\n) +\n@vlplot(\n    width=500,\n    height=300,\n    data=rows,\n    transform=[{\n        lookup=:id,\n        from={\n            data={\n                values=us10m,\n                format={\n                    type=:topojson,\n                    feature=:states\n                }\n            },\n            key=:id\n        },\n        as=:geo\n    }],\n    projection={type=:albersUsa},\n    mark=:geoshape,\n    shape={\n        field=:geo,\n        type=:geojson\n    },\n    color={\n        field={repeat=:row},\n        type=:quantitative\n    }\n)","category":"page"},{"location":"examples/examples_maps/#U.S.-state-capitals-overlayed-on-a-map-of-the-U.S-1","page":"Maps (Geographic Displays)","title":"U.S. state capitals overlayed on a map of the U.S","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\ncapitals = dataset(\"us-state-capitals\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=capitals,\n    longitude=\"lon:q\",\n    latitude=\"lat:q\",\n    color={value=:orange}\n) +\n@vlplot(\n    mark={\n        type=:text,\n        dy=-10\n    },\n    data=capitals,\n    longitude=\"lon:q\",\n    latitude=\"lat:q\",\n    text={\n        field=:city,\n        type=:nominal\n    }\n)","category":"page"},{"location":"examples/examples_maps/#Line-drawn-between-airports-in-the-U.S.-simulating-a-flight-itinerary-1","page":"Maps (Geographic Displays)","title":"Line drawn between airports in the U.S. simulating a flight itinerary","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=\"#eee\",\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=5},\n    color={value=:gray}\n) +\n@vlplot(\n    :line,\n    data={\n        values=[\n            {airport=:SEA,order=1},\n            {airport=:SFO,order=2},\n            {airport=:LAX,order=3},\n            {airport=:LAS,order=4},\n            {airport=:DFW,order=5},\n            {airport=:DEN,order=6},\n            {airport=:ORD,order=7},\n            {airport=:JFK,order=8}\n        ]\n    },\n    transform=[{\n        lookup=:airport,\n        from={\n            data=airports,\n            key=:iata,\n            fields=[\"latitude\",\"longitude\"]\n        }\n    }],\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    order={field=:order,type=:ordinal}\n)","category":"page"},{"location":"examples/examples_maps/#Income-in-the-U.S.-by-state,-faceted-over-income-brackets-1","page":"Maps (Geographic Displays)","title":"Income in the U.S. by state, faceted over income brackets","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nincome = dataset(\"income\")\n\n@vlplot(\n    width=500, \n    height=300,\n    :geoshape,\n    data=income,\n    transform=[{\n        lookup=:id,\n        from={\n            data={\n                values=us10m,\n                format={\n                    type=:topojson,\n                    feature=:states\n                }\n            },\n            key=:id\n        },\n        as=:geo\n    }],\n    projection={type=:albersUsa},\n    encoding={\n        shape={field=:geo,type=:geojson},\n        color={field=:pct,type=:quantitative},\n        row={field=:group,type=:nominal}\n    }\n)","category":"page"},{"location":"examples/examples_maps/#London-Tube-Lines-1","page":"Maps (Geographic Displays)","title":"London Tube Lines","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nlondonBoroughs = dataset(\"londonBoroughs\")\nlondonCentroids = dataset(\"londonCentroids\")\nlondonTubeLines = dataset(\"londonTubeLines\")\n\n@vlplot(\n    width=700, height=500,\n    config={\n        view={\n            stroke=:transparent\n        }\n    }\n) +\n@vlplot(\n    data={\n        values=londonBoroughs,\n        format={\n            type=:topojson,\n            feature=:boroughs\n        }\n    },\n    mark={\n        :geoshape,\n        stroke=:white,\n        strokeWidth=2\n    },\n    color={value=\"#eee\"}\n) +\n@vlplot(\n    data=londonCentroids,\n    transform=[{\n        calculate=\"indexof (datum.name,' ') > 0  ? substring(datum.name,0,indexof(datum.name, ' ')) : datum.name\",\n        as=:bLabel\n    }],\n    mark=:text,\n    longitude=\"cx:q\",\n    latitude=\"cy:q\",\n    text=\"bLabel:n\",\n    size={value=8},\n    opacity={value=0.6}\n) +\n@vlplot(\n    data={\n        values=londonTubeLines,\n        format={\n            type=:topojson,\n            feature=:line\n        }\n    },\n    mark={\n        :geoshape,\n        filled=false,\n        strokeWidth=2\n    },\n    color={\n        \"id:n\",\n        legend={\n            title=nothing,\n            orient=\"bottom-right\",\n            offset=0\n        },\n        scale={\n            domain=[\n                \"Bakerloo\",\n                \"Central\",\n                \"Circle\",\n                \"District\",\n                \"DLR\",\n                \"Hammersmith & City\",\n                \"Jubilee\",\n                \"Metropolitan\",\n                \"Northern\",\n                \"Piccadilly\",\n                \"Victoria\",\n                \"Waterloo & City\"\n            ],\n            range=[\n                \"rgb(137,78,36)\",\n                \"rgb(220,36,30)\",\n                \"rgb(255,206,0)\",\n                \"rgb(1,114,41)\",\n                \"rgb(0,175,173)\",\n                \"rgb(215,153,175)\",\n                \"rgb(106,114,120)\",\n                \"rgb(114,17,84)\",\n                \"rgb(0,0,0)\",\n                \"rgb(0,24,168)\",\n                \"rgb(0,160,226)\",\n                \"rgb(106,187,170)\"\n            ]\n        }\n    }\n)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Charts-1","page":"Simple Charts","title":"Simple Charts","text":"","category":"section"},{"location":"examples/examples_simplecharts/#Simple-Bar-Chart-1","page":"Simple Charts","title":"Simple Bar Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, :a, :b)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Heatmap-1","page":"Simple Charts","title":"Simple Heatmap","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, DataFrames\n\nx = [j for i in -5:4, j in -5:4]\ny = [i for i in -5:4, j in -5:4]\nz = x.^2 .+ y.^2\ndata = DataFrame(x=vec(x'),y=vec(y'),z=vec(z'))\n\ndata |> @vlplot(:rect, \"x:o\", \"y:o\", color=:z)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Histogram-1","page":"Simple Charts","title":"Simple Histogram","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:bar, x={:IMDB_Rating, bin=true}, y=\"count()\")","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Line-Chart-1","page":"Simple Charts","title":"Simple Line Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite\n\nx = 0:100\ny = sin.(x./5)\n\n@vlplot(:line, x=x, y={y, title=\"sin(x)\"})","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Scatter-Plot-1","page":"Simple Charts","title":"Simple Scatter Plot","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"iris\") |>\n@vlplot(:point, x=:petalWidth, y=:petalLength, color=:species)","category":"page"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"TODO Add interactivity","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Stacked-Area-Chart-1","page":"Simple Charts","title":"Simple Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(:area, x=\"date:t\", y=:count, color=:series)","category":"page"},{"location":"examples/examples_simplecharts/#Strip-Plot-1","page":"Simple Charts","title":"Strip Plot","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:tick, x=:Horsepower, y=\"Cylinders:o\")","category":"page"},{"location":"userguide/vlplotmacro/#The-@vlplot-command-1","page":"The @vlplot command","title":"The @vlplot command","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The @vlplot macro is the main method to create Vega-Lite plots from Julia. The macro accepts arguments that look almost identical to the original Vega-Lite JSON syntax. It should therefore be very easy to take any given Vega-Lite JSON example and translate it into a corresponding @vlplot macro call. The macro also provides a number of shorthands that make it easy to create very compact plot specifications. This section will first review the difference between the original JSON Vega-Lite syntax and the @vlplot macro, and then discuss the various shorthands that users will typically use.","category":"page"},{"location":"userguide/vlplotmacro/#JSON-syntax-vs-@vlplot-macro-1","page":"The @vlplot command","title":"JSON syntax vs @vlplot macro","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"A very simple Vega-Lite JSON specification looks like this:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"{\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"This can be directly translated into the following @vlplot macro call:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},{a=\"B\",b=55},{a=\"C\",b=43},\n            {a=\"D\",b=91},{a=\"E\",b=81},{a=\"F\",b=53},\n            {a=\"G\",b=19},{a=\"H\",b=87},{a=\"I\",b=52}\n        ]\n    },\n    mark=\"bar\",\n    encoding={\n        x={field=\"a\", type=\"ordinal\"},\n        y={field=\"b\", type=\"quantitative\"}\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"We had to make the following adjustments to the original JSON specification:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The outer pair of {} brackets was removed, the parenthesis () of the macro call instead deliminate the beginning and end of the specification.\nThe quotation marks \" around keys like mark are removed.\nThe JSON key-value separator : was replaced with =.\nAny null value in the JSON specification should be replaced with nothing in the @vlplot call.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"These four rules should be sufficient to translate any valid JSON Vega-Lite specification into a corresponding @vlplot macro call.","category":"page"},{"location":"userguide/vlplotmacro/#Symbols-instead-of-Strings-1","page":"The @vlplot command","title":"Symbols instead of Strings","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"A first shorthand provided by the @vlplot macro is that you can use a Symbol on the right hand side of any key-value pair instead of a String. For example, instead of writing mark=\"bar\", you can write mark=:bar.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The following example demonstrates this in the context of a full plotting example:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point, # Note how we use :point instead of \"point\" here\n    encoding={\n        x={\n            field=:a, # Note how we use :a instead of \"a\" here\n            type=:ordinal # Note how we use :ordinal instead of \"ordinal\" here\n        },\n        y={\n            field=:b, # Note how we use :b instead of \"b\" here\n            type=:quantitative # Note how we use :quantitative instead of \"quantitative\" here\n        }\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#Shorthand-string-syntax-for-encodings-1","page":"The @vlplot command","title":"Shorthand string syntax for encodings","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"VegaLite.jl provides a similar string shorthand syntax for encodings as Altair (the Python wrapper around Vega-Lite).","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"Almost any channel encoding in a specification will have the keys field and type, as in x={field=:a, type=:ordinal}. Because these patterns are so common, we provide a shorthand string syntax for this case. Using the shorthand one can write the channel encoding as x={\"a:o\"}. These string shorthands have to appear as the first positional argument inside the curly brackets {} for the encoding channel. The pattern inside the string is that one specifies the name of the field before the :, and then the first letter of the type of encoding (o for ordinal, q for quantitative etc.).","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The string shorthand also extends to the timeUnit and aggregate key in encodings. Aggregation functions and time units can be specified using a function call syntax inside the string shorthand. For example, x={\"mean(foo)\"} is equivalent to x={field=:foo, aggregate=:mean, type=:quantitative} (note that we don't have to specify the type explicitly when we use aggregations, the default assumption is that the result of an aggregation is quantitative). An example that uses the shorthand for a time unit is x={\"year(foo):t\"}, which is equivalent to x={field=:foo, timeUnit=:year, type=:quantitative}. For aggregations that don't require a field name (e.g. the count aggregation), you can just write x=\"count()\".","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"String shorthands can be combined with any other attributes. For example, the following example shows how one can specify an axis title and still use the string shorthand notation:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"x={\"foo:q\", axis={title=\"some title\"}}","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"In cases where you don't want to specify any other attributes than what can be expressed in the string shorthand you don't have to use the surrounding curly brackets {} for the encoding: x=\"foo:q\" is equivalent to x={field=:foo, type=:quantitative}. If you only want to specify the field and not even the type, you can resort to using a Symbol: x=:foo is also a valid encoding.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The shorthand string syntax allows us to write the specification of the plot from the previous section in this much more concise format:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point,\n    encoding={\n        x=\"a:o\",\n        y=:b\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#Shorthands-for-the-encoding-element-1","page":"The @vlplot command","title":"Shorthands for the encoding element","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"There are two shorthands for the encoding element in a plot specification.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The first is to simply write enc instead of encoding. For example, the previous specification can be written as","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point,\n    enc={\n        x=\"a:o\",\n        y=:b\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"An even shorter notation is to just leave the level of the encoding element away and place the channel encodings directly into the top level specification. With that option you would write the previous example as:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(mark=:point, x=\"a:o\", y=:b)","category":"page"},{"location":"userguide/vlplotmacro/#Mark-shorthands-1","page":"The @vlplot command","title":"Mark shorthands","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"There are two shorthands for the mark attribute in a specification. The first option is to use the first positional argument in a @vlplot call to specify the mark type. This only works if you don't want to specify any other mark attributes. For example, the previous plot can now be written as","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |> @vlplot(:point, x=\"a:o\", y=:b)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"If you want to specify more mark attributes, you can reintroduce curly brackets {}, and then specify the type of the mark as the first positional argument inside the mark block. For example, the following code specifies that the mark color should be red, in addition to picking points as the mark type:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark={:point, color=:red},\n    x=\"a:o\",\n    y=:b\n)","category":"page"},{"location":"userguide/vlplotmacro/#x-and-y-encoding-channel-as-positional-arguments-1","page":"The @vlplot command","title":"x and y encoding channel as positional arguments","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"For the x and y encoding channel only, you can specify their values as the second and third positional element at the root level of the @vlplot call instead of using named arguments. In particular, you can write @vlplot(:point, :colA, :colB) instead of @vlplot(:point, x=:colA, y=:colB) or @vlplot(:point, :colA) instead of @vlplot(:point, x=:colA).","category":"page"},{"location":"examples/examples_table_based_plots/#Table-based-Plots-1","page":"Table-based Plots","title":"Table-based Plots","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#Table-Heatmap-1","page":"Table-based Plots","title":"Table Heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:rect, y=:Origin, x=\"Cylinders:o\", color=\"mean(Horsepower)\")","category":"page"},{"location":"examples/examples_table_based_plots/#Annual-Weather-Heatmap-1","page":"Table-based Plots","title":"Annual Weather Heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-temps\") |>\n@vlplot(\n    title=\"2010 Daily Max Temperature (F) in Seattle, WA\",\n    :rect, \n    x={\n        \"date:o\",\n        timeUnit=:date,\n        title=\"Day\",\n        axis={labelAngle=0,format=\"%e\"}\n    },\n    y={\n        \"date:o\",\n        timeUnit=:month,\n        title=\"Month\"\n    },\n    color={\n        \"temp:q\",\n        aggregate=\"max\",\n        legend={title=nothing}\n    },\n    config={\n        view={\n            strokeWidth=0,\n            step=13\n        },\n        axis={\n            domain=false\n        }\n    }\n)","category":"page"},{"location":"examples/examples_table_based_plots/#D-Histogram-Heatmap-1","page":"Table-based Plots","title":"2D Histogram Heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :rect,\n    width=300, height=200,\n    x={:IMDB_Rating, bin={maxbins=60}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=40}},\n    color=\"count()\",\n    config={\n        view={\n            stroke=\"transparent\"\n        }\n    }\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Table-Bubble-Plot-(Github-Punch-Card)-1","page":"Table-based Plots","title":"Table Bubble Plot (Github Punch Card)","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"github\") |>\n@vlplot(\n    :circle,\n    y=\"day(time):o\",\n    x=\"hours(time):o\",\n    size=\"sum(count)\"\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Layering-text-over-heatmap-1","page":"Table-based Plots","title":"Layering text over heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ncars = dataset(\"cars\")\n\n@vlplot(\n    data=cars,\n    y=\"Origin:o\",\n    x=\"Cylinders:o\",\n    config={\n        scale={bandPaddingInner=0, bandPaddingOuter=0},\n        text={baseline=:middle}\n    }\n) +\n@vlplot(:rect, color=\"count()\") +\n@vlplot(\n    :text,\n    text=\"count()\",\n    color={\n        condition={\n            test=\"datum['count_*'] > 100\",\n            value=:black\n        },\n        value=:white\n    }\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Lasagna-Plot-(Dense-Time-Series-Heatmap)-1","page":"Table-based Plots","title":"Lasagna Plot (Dense Time-Series Heatmap)","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    width=300,\n    height=100,\n    transform=[{filter=\"datum.symbol!=='GOOG'\"}],\n    mark=:rect,\n    x={\n        \"date:o\",\n        timeUnit=:yearmonthdate,\n        title=\"Time\",\n        axis={\n            format=\"%Y\",\n            labelAngle=0,\n            labelOverlap=false,\n            labelColor={\n                condition={\n                    test={\n                        field=\"value\",\n                        timeUnit=:monthdate,\n                        equal={month=1,date=1}\n                    },\n                    value=\"black\"\n                },\n                value=nothing\n            },\n            tickColor={\n                condition={\n                    test={\n                        field=\"value\",\n                        timeUnit=:monthdate,\n                        equal={month=1,date=1}\n                    },\n                    value=\"black\"\n                },\n                value=nothing\n            }\n        }\n    },\n    y={\n        \"symbol:n\",\n        title=nothing\n    },\n    color={\n        \"price:q\",\n        aggregate=\"sum\",\n        title=\"Price\"        \n    }\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Mosaic-Chart-with-Labels-1","page":"Table-based Plots","title":"Mosaic Chart with Labels","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    resolve={scale={x=\"shared\"}},\n    config={\n        view={stroke=\"\"},\n        concat={spacing=10},\n        axis={\n            domain=false,\n            ticks=false,\n            labels=false,\n            grid=false\n        }\n    },\n    transform=[\n        {\n            aggregate=[{op=\"count\",as=\"count_*\"}],\n            groupby=[\"Origin\",\"Cylinders\"]\n        },\n        {\n            stack=\"count_*\",\n            groupby=[],\n            as=[\"stack_count_Origin1\",\"stack_count_Origin2\"],\n            offset=\"normalize\",\n            sort=[{field=\"Origin\",order=\"ascending\"}]\n        },\n        {\n            window=[\n                {op=\"min\",field=\"stack_count_Origin1\",as=\"x\"},\n                {op=\"max\",field=\"stack_count_Origin2\",as=\"x2\"},\n                {op=\"dense_rank\",as=\"rank_Cylinders\"},\n                {op=\"distinct\",field=\"Cylinders\",as=\"distinct_Cylinders\"}\n            ],\n            groupby=[\"Origin\"],\n            frame=[nothing,nothing],\n            sort=[{field=\"Cylinders\",order=\"ascending\"}]\n        },\n        {\n            window=[\n                {op=\"dense_rank\",as=\"rank_Origin\"}\n            ],\n            frame=[nothing,nothing],\n            sort=[{field=\"Origin\",order=\"ascending\"}]\n        },\n        {\n            stack=\"count_*\",\n            groupby=[\"Origin\"],\n            as=[\"y\",\"y2\"],\n            offset=\"normalize\",\n            sort=[{field=\"Cylinders\",order=\"ascending\"}]\n        },\n        {calculate=\"datum.y + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3\",as=\"ny\"},\n        {calculate=\"datum.y2 + (datum.rank_Cylinders - 1) * datum.distinct_Cylinders * 0.01 / 3\",as=\"ny2\"},\n        {calculate=\"datum.x + (datum.rank_Origin - 1) * 0.01\",as=\"nx\"},\n        {calculate=\"datum.x2 + (datum.rank_Origin - 1) * 0.01\",as=\"nx2\"},\n        {calculate=\"(datum.nx+datum.nx2)/2\",as=\"xc\"},\n        {calculate=\"(datum.ny+datum.ny2)/2\",as=\"yc\"},\n        {calculate=\"'Origin: '+datum.Origin+', '+'Cylinders: '+datum.Cylinders\",as=\"tt\"}, #How to add a line break?\n    ]\n) +\n[\n    @vlplot(\n        mark={\n            :text,\n            baseline=\"middle\",\n            align=\"center\"\n        },\n        x={\n            \"xc:q\",\n            aggregate=\"min\",\n            title=\"Origin\",\n            axis={orient=:top}\n        },\n        color={\n            \"Origin:n\",\n            legend=nothing\n        },\n        text=\"Origin:n\"\n    );\n    (\n        @vlplot() +\n        @vlplot(\n            :rect,\n            x={\"nx:q\",axis=nothing},\n            x2=:nx2,\n            y={\"ny:q\",axis=nothing},\n            y2=:ny2,\n            color={\"Origin:n\",legend=nothing},\n            opacity={field=\"Cylinders\",type=\"quantitative\",legend=nothing},\n            #tooltip=[{field=\"Origin\",type=\"nominal\"},{field=\"Cylinders\",type=\"quantitative\"}]  #array not supported\n            tooltip={\"tt:n\"} #see calculate above\n        ) +\n        @vlplot(\n            mark={:text,baseline=\"middle\"},\n            x={\"xc:q\",axis=nothing},\n            y={\"yc:q\",axis={title=\"Cylinders\"}},\n            text=\"Cylinders:n\"\n        )\n    )\n]","category":"page"},{"location":"examples/examples_table_based_plots/#Wind-Vector-Map-1","page":"Table-based Plots","title":"Wind Vector Map","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"windvectors\") |>\n@vlplot(\n    mark={:point, shape=:wedge},\n    x={\"longitude:o\", axis=nothing},\n    y={\"latitude:o\", axis=nothing},\n    color={\"dir:q\", scale={domain=[0,360], scheme=:rainbow},legend=nothing},\n    angle={\"dir:q\", scale={domain=[0,360], range=[180, 540]}},\n    size=\"speed:q\",\n    config={view={step=10, fill=:black}}\n)","category":"page"},{"location":"examples/examples_circular_plots/#Circular-Plots-1","page":"Circular Plots","title":"Circular Plots","text":"","category":"section"},{"location":"examples/examples_circular_plots/#Pie-Chart-1","page":"Circular Plots","title":"Pie Chart","text":"","category":"section"},{"location":"examples/examples_circular_plots/#","page":"Circular Plots","title":"Circular Plots","text":"using VegaLite, DataFrames\n\ndf = DataFrame(category=1:6, value=[4,6,10,3,7,8])\n\ndf |> @vlplot(:arc, theta=:value, color=\"category:n\", view={stroke=nothing})","category":"page"},{"location":"examples/examples_circular_plots/#Donut-Chart-1","page":"Circular Plots","title":"Donut Chart","text":"","category":"section"},{"location":"examples/examples_circular_plots/#","page":"Circular Plots","title":"Circular Plots","text":"using VegaLite, DataFrames\n\ndf = DataFrame(category=1:6, value=[4,6,10,3,7,8])\n\ndf |> @vlplot(mark={:arc, innerRadius=50}, theta=:value, color=\"category:n\", view={stroke=nothing})","category":"page"},{"location":"examples/examples_circular_plots/#Pie-Chart-with-Labels-1","page":"Circular Plots","title":"Pie Chart with Labels","text":"","category":"section"},{"location":"examples/examples_circular_plots/#","page":"Circular Plots","title":"Circular Plots","text":"using VegaLite, DataFrames\n\ndf = DataFrame(category=1:6, value=[4,6,10,3,7,8])\n\ndf |>\n@vlplot(\n    theta={:value, stack=true}, \n    color={\"category:n\", legend=nothing},\n    view={stroke=nothing}) +\n@vlplot(mark={:arc, outerRadius=80}) +\n@vlplot(mark={:text, radius=90}, text=\"category:n\")","category":"page"},{"location":"examples/examples_circular_plots/#Radial-Plot-1","page":"Circular Plots","title":"Radial Plot","text":"","category":"section"},{"location":"examples/examples_circular_plots/#","page":"Circular Plots","title":"Circular Plots","text":"using VegaLite\n\n@vlplot(\n    data={values=[12, 23, 47, 6, 52, 19]},\n    theta={:data, stack=true},\n    radius={:data, scale={type=:sqrt, zero=true, range=[20,100]}},\n    color={\"data:n\", legend=nothing},\n    view={stroke=nothing}\n) +\n@vlplot(mark={:arc, innerRadius=20, stroke=\"#fff\"}) +\n@vlplot(mark={:text, radiusOffset=10}, text=:data)","category":"page"},{"location":"examples/examples_circular_plots/#Pyramid-Pie-Chart-1","page":"Circular Plots","title":"Pyramid Pie Chart","text":"","category":"section"},{"location":"examples/examples_circular_plots/#","page":"Circular Plots","title":"Circular Plots","text":"using VegaLite, DataFrames\n\ndf = DataFrame(\n    category=[\"Sky\", \"Shady side of a pyramid\", \"Sunny side of a pyramid\"],\n    value=[75, 10, 15],\n    order=[3,1,2]\n)\n\ndf |> @vlplot(\n    mark={:arc, outerRadius=80},\n    theta={:value, scale={range=[2.35619449, 8.639379797]}, stack=true},\n    color={\n        :category,\n        scale={\n            domain=[\"Sky\", \"Shady side of a pyramid\", \"Sunny side of a pyramid\"],\n            range=[\"#416D9D\", \"#674028\", \"#DEAC58\"]\n        },\n        legend={orient=:none, title=nothing, columns=1, legendX=200, legendY=80}\n    },\n    order=:order,\n    view={stroke=nothing}\n)","category":"page"},{"location":"examples/examples_faceting/#Faceting-(Trellis-Plot-/-Small-Multiples)-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"","category":"section"},{"location":"examples/examples_faceting/#Trellis-Bar-Chart-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Bar Chart","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year==2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=:gender}\n    ],\n    row=\"gender:n\",\n    y={\"sum(people)\", axis={title=\"population\"}},\n    x=\"age:o\",\n    color={\"gender:n\", scale={range=[\"#EA98D2\", \"#659CCA\"]}},\n    width={step=17}\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Stacked-Bar-Chart-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(:bar, column=\"year:o\", x=\"sum(yield)\", y=:variety, color=:site)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Scatter-Plot-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Scatter Plot","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:point, columns=2, wrap=\"MPAA_Rating:o\", x=:Worldwide_Gross, y=:US_DVD_Sales)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Histograms-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Histograms","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :bar,\n    x={\n        :Horsepower,\n        bin={maxbins=15}\n    },\n    y=\"count()\",\n    row=:Origin\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Scatter-Plot-showing-Anscombe's-Quartet-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Scatter Plot showing Anscombe's Quartet","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"anscombe\") |>\n@vlplot(\n    :circle,\n    column=:Series,\n    x={:X, scale={zero=false}},\n    y={:Y, scale={zero=false}},\n    opacity={value=1}\n)","category":"page"},{"location":"examples/examples_faceting/#Becker's-Barley-Trellis-Plot-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Becker's Barley Trellis Plot","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    :point,\n    columns=2,\n    height={step=12},\n    wrap={\"site:o\", sort={op=:median, field=:yield}},\n    x={\"median(yield)\", scale={zero=false}},\n    y={\n        \"variety:o\",\n        sort=\"-x\"\n    },\n    color=:year\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Area-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Area","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :area,\n    width=300,height=40,\n    transform=[{filter=\"datum.symbol !== 'GOOG'\"}],\n    x={\n        \"date:t\",\n        axis={title=\"Time\",grid=false}\n    },\n    y={\n        :price,\n        axis={title=\"Price\",grid=false}\n    },\n    color={\n        :symbol,\n        legend=nothing\n    },\n    row={\n        :symbol,\n        header={title=\"Symbol\"}\n    }\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Error-Bars-and-Error-Bands-1","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#Error-Bars-showing-Confidence-Interval-1","page":"Error Bars & Error Bands","title":"Error Bars showing Confidence Interval","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(y=\"variety:o\") +\n@vlplot(\n    mark={\n        :point,\n        filled=true\n    },\n    x={\n        \"mean(yield)\",\n        scale={zero=false},\n        title=\"Barley Yield\"\n    },\n    color={value=:black}\n) +\n@vlplot(\n    mark={\n        :errorbar,\n        extent=:ci\n     },\n     x={:yield, title=\"Barley Yield\"}\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Error-Bars-showing-Standard-Deviation-1","page":"Error Bars & Error Bands","title":"Error Bars showing Standard Deviation","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    y=\"variety:o\"\n) +\n@vlplot(\n    mark={\n        :point,\n        filled=true\n    },\n    x={\n        \"mean(yield)\",\n        scale={zero=false},\n        title=\"Barley Yield\"\n    },\n    color={value=:black}\n) +\n@vlplot(\n    mark={:errorbar, extend=:stdev},\n    x={:yield, title=\"Barley Yield\"}\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Line-Chart-with-Confidence-Interval-Band-1","page":"Error Bars & Error Bands","title":"Line Chart with Confidence Interval Band","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(x=\"year(Year)\") +\n@vlplot(\n    mark={:errorband, extent=:ci},\n    y={\n        :Miles_per_Gallon,\n        title=\"Mean of Miles per Gallon (95% CIs)\"\n    }\n) +\n@vlplot(\n    :line,\n    y=\"mean(Miles_per_Gallon)\"\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Scatterplot-with-Mean-and-Standard-Deviation-Overlay-1","page":"Error Bars & Error Bands","title":"Scatterplot with Mean and Standard Deviation Overlay","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot() +\n@vlplot(\n    :point,\n    x=:Horsepower,\n    y=:Miles_per_Gallon\n) +\n@vlplot(:rule,y=\"mean(Miles_per_Gallon)\") +\n@vlplot(\n    mark={:errorband, extent=:stdev, opacity=0.2},\n    y={:Miles_per_Gallon, title=\"Miles per Gallon\"}\n)","category":"page"},{"location":"referencemanual/output/#Output-1","page":"Outputs","title":"Output","text":"","category":"section"},{"location":"referencemanual/output/#Saving-to-a-file-1","page":"Outputs","title":"Saving to a file","text":"","category":"section"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"Use the save (reexported from VegaLite.jl) function from the FileIO.jl package to save plots.","category":"page"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"For example, to save a plot named p, you can use the following type of code:","category":"page"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"p |> save(\"figure.png\")\np |> save(\"figure.svg\")\np |> save(\"figure.pdf\")\np |> save(\"figure.eps\")\np |> save(\"figure.vegalite\")","category":"page"},{"location":"examples/examples_box_plots/#Box-Plots-1","page":"Box Plots","title":"Box Plots","text":"","category":"section"},{"location":"examples/examples_box_plots/#Box-Plot-with-Min/Max-Whiskers-1","page":"Box Plots","title":"Box Plot with Min/Max Whiskers","text":"","category":"section"},{"location":"examples/examples_box_plots/#","page":"Box Plots","title":"Box Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    mark={:boxplot, extent=\"min-max\"},\n    x=\"age:o\",\n    y={:people, axis={title=\"population\"}}\n)","category":"page"},{"location":"examples/examples_box_plots/#Tukey-Box-Plot-(1.5-IQR)-1","page":"Box Plots","title":"Tukey Box Plot (1.5 IQR)","text":"","category":"section"},{"location":"examples/examples_box_plots/#","page":"Box Plots","title":"Box Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    mark={:boxplot, extend=1.5},\n    x=\"age:o\",\n    y={:people, axis={title=\"population\"}},\n    size={value=5}\n)","category":"page"},{"location":"#VegaLite.jl-1","page":"Home","title":"VegaLite.jl","text":"","category":"section"},{"location":"#Overview-1","page":"Home","title":"Overview","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"VegaLite.jl is a plotting package for the Julia programming language. The package is based on Vega-Lite, which extends a traditional grammar of graphics API into a grammar of interactive graphics (preprint). Along with Vega-Lite, there is basic support for Vega graphics.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"VegaLite.jl allows you to create a wide range of statistical plots. It exposes the full functionality of the underlying Vega-Lite and is a the same time tightly integrated into the Julia ecosystem. Here is an example of a scatter plot:","category":"page"},{"location":"#","page":"Home","title":"Home","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :point,\n    x=:Horsepower,\n    y=:Miles_per_Gallon,\n    color=:Origin,\n    width=400,\n    height=400\n)","category":"page"}]
}
