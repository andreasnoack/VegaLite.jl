<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data sources · VegaLite.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">VegaLite.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../gettingstarted/installation/">Installation</a></li><li><a class="tocitem" href="../../gettingstarted/tutorial/">Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../vlspec/">Vega-lite specifications</a></li><li><a class="tocitem" href="../vlplotmacro/">The @vlplot command</a></li><li class="is-active"><a class="tocitem" href>Data sources</a><ul class="internal"><li><a class="tocitem" href="#Inline-data-1"><span>Inline data</span></a></li><li><a class="tocitem" href="#Directly-passing-vectors-of-data-1"><span>Directly passing vectors of data</span></a></li><li><a class="tocitem" href="#Referencing-external-data-1"><span>Referencing external data</span></a></li></ul></li></ul></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Single-View Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_barcharts/">Bar Charts</a></li><li><a class="tocitem" href="../../examples/examples_histograms/">Histograms, Density Plots, and Dot Plots</a></li><li><a class="tocitem" href="../../examples/examples_scatter_strip_plots/">Scatter &amp; Strip Plots</a></li><li><a class="tocitem" href="../../examples/examples_line_charts/">Line Charts</a></li><li><a class="tocitem" href="../../examples/examples_area_Charts_streamgraphs/">Area Charts &amp; Streamgraphs</a></li><li><a class="tocitem" href="../../examples/examples_table_based_plots/">Table-based Plots</a></li><li><a class="tocitem" href="../../examples/examples_circular_plots/">Circular Plots</a></li><li><a class="tocitem" href="../../examples/examples_advancedcalculations/">Advanced Calculations</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Composite Mark</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_error_bars_bands/">Error Bars &amp; Error Bands</a></li><li><a class="tocitem" href="../../examples/examples_box_plots/">Box Plots</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Multi-View Displays</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/examples_faceting/">Faceting (Trellis Plot / Small Multiples)</a></li><li><a class="tocitem" href="../../examples/examples_repeat_concatenation/">Repeat &amp; Concatenation</a></li></ul></li><li><a class="tocitem" href="../../examples/examples_maps/">Maps (Geographic Displays)</a></li></ul></li><li><span class="tocitem">Reference Manual</span><ul><li><a class="tocitem" href="../../referencemanual/global/">Global settings</a></li><li><a class="tocitem" href="../../referencemanual/output/">Outputs</a></li><li><a class="tocitem" href="../../referencemanual/performance/">Performance tips</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Data sources</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data sources</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/queryverse/VegaLite.jl/blob/master/docs/src/userguide/data.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Data-1"><a class="docs-heading-anchor" href="#Data-1">Data</a><a class="docs-heading-anchor-permalink" href="#Data-1" title="Permalink"></a></h1><p><a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> accepts data to be plotted in a variety of different formats and provides a number of different ways to reference that data. The most typical way to plot data is that you have your data in some Julia data structure, and then add this data to the Vega-Lite specification itself for plotting. As an alternative, Vega-Lite also accepts URLs that point to data sources either on disc or on the web for plotting. Data that you want to plot will typically be in a tabular form. You can also directly pass vectors with data.</p><h2 id="Inline-data-1"><a class="docs-heading-anchor" href="#Inline-data-1">Inline data</a><a class="docs-heading-anchor-permalink" href="#Inline-data-1" title="Permalink"></a></h2><p>Any Julia data structure that supports the iterable tables interface from the <a href="https://github.com/queryverse/TableTraits.jl">TableTraits.jl</a> package can be used as an inline data source with <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a>. In practice that covers most tabular data structures in the Julia ecosystem: <a href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a>, <a href="https://github.com/JuliaComputing/JuliaDB.jl">JuliaDB.jl</a>, <a href="https://github.com/JuliaComputing/IndexedTables.jl">IndexedTables.jl</a>, various file IO packages (<a href="https://github.com/queryverse/CSVFiles.jl">CSVFiles.jl</a>, <a href="https://github.com/queryverse/FeatherFiles.jl">FeatherFiles.jl</a>, <a href="https://github.com/queryverse/ExcelFiles.jl">ExcelFiles.jl</a>, <a href="https://github.com/queryverse/StatFiles.jl">StatFiles.jl</a>, <a href="https://github.com/queryverse/ParquetFiles.jl">ParquetFiles.jl</a>) and any <a href="https://github.com/queryverse/Query.jl">Query.jl</a> result that has a tabular form.</p><p>There are two ways to add an inline data source to a Vega-Lite plot: 1) by piping the data source into a plot, or 2) by using the <code>data</code> keyword from within a <code>@vlplot</code> call.</p><h3 id="Piping-inline-data-1"><a class="docs-heading-anchor" href="#Piping-inline-data-1">Piping inline data</a><a class="docs-heading-anchor-permalink" href="#Piping-inline-data-1" title="Permalink"></a></h3><p>Any tabular data can be piped into a plot by using the <code>|&gt;</code> operator. For example, to create a scatter plot of a <code>DataFrame</code> called <code>df</code> you can pipe that <code>DataFrame</code> into a specification like this:</p><pre><code class="language-julia">df |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><p>As mentioned above, you are not restricted to piping <code>DataFrame</code>s into a plot, but can in fact plot any iterable table. The following example loads some data from a CSV file using <a href="https://github.com/queryverse/CSVFiles.jl">CSVFiles.jl</a>, filters it with <a href="https://github.com/queryverse/Query.jl">Query.jl</a> and then plots it with <a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a>:</p><pre><code class="language-julia">load(&quot;my_data.csv&quot;) |&gt; @filter(_.a&gt;30) |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><h3 id="Using-inline-data-with-the-data-keyword-1"><a class="docs-heading-anchor" href="#Using-inline-data-with-the-data-keyword-1">Using inline data with the <code>data</code> keyword</a><a class="docs-heading-anchor-permalink" href="#Using-inline-data-with-the-data-keyword-1" title="Permalink"></a></h3><p>You can also specify the inline data for a plot by using the standard <code>data</code> keyword from the Vega-Lite language. The following example creates a plot based on a <code>DataFrame</code> named <code>df</code>:</p><pre><code class="language-julia">@vlplot(:point, data=df, x=:a, y=:b)</code></pre><p>This method also accepts any iterable table.</p><h2 id="Directly-passing-vectors-of-data-1"><a class="docs-heading-anchor" href="#Directly-passing-vectors-of-data-1">Directly passing vectors of data</a><a class="docs-heading-anchor-permalink" href="#Directly-passing-vectors-of-data-1" title="Permalink"></a></h2><p>You can also pass vectors of data directly to encoding channels. For example, to create a line plot with ten random values, you can write:</p><pre><code class="language-julia">@vlplot(:line, x=1:10, y=randn(10))</code></pre><p>Both <code>1:10</code> and <code>randn(10)</code> are <code>AbstractVector</code>s and can therefor be passed in this way. You can also pass vectors directly in cases where you want to specify more detail about an encoding channel:</p><pre><code class="language-julia">@vlplot(:point, x=randn(10), y={randn(10), title=&quot;Some custom title&quot;})</code></pre><p>There are two requirements to keep in mind when you use this form of data passing: 1) all vectors you pass in this way need to have the same length, and 2) you cannot pass a <code>data</code> keyword if you use this way of constructing a plot.</p><h2 id="Referencing-external-data-1"><a class="docs-heading-anchor" href="#Referencing-external-data-1">Referencing external data</a><a class="docs-heading-anchor-permalink" href="#Referencing-external-data-1" title="Permalink"></a></h2><p>Sometimes it can be convenient to not embed the source data in the actual Vega-Lite specification, but instead just embed a link to some data in a file. Vega-Lite can read data in a variety of formats (CSV, TSV, JSON etc.), and you can again either pipe a reference into a plot or use the <code>data</code> keyword to specify an external link.</p><p><a href="https://github.com/queryverse/VegaLite.jl">VegaLite.jl</a> uses the <code>URI</code> type from the <a href="https://github.com/JuliaWeb/URIParser.jl">URIParser.jl</a> package to represent URIs, and the <a href="https://github.com/rofinn/FilePaths.jl">FilePaths.jl</a> package to represent filesystem paths. For example, to create a path, you can use the <code>p</code> string macro:</p><pre><code class="language-julia">using FilePaths

path = p&quot;folder/filename.csv&quot;</code></pre><p>The following example creates a <code>URI</code> instance:</p><pre><code class="language-julia">using URIParser

uri = URI(&quot;https://www.foo.com/bar.csv&quot;)</code></pre><h3 id="Piping-paths-and-URIs-1"><a class="docs-heading-anchor" href="#Piping-paths-and-URIs-1">Piping paths and URIs</a><a class="docs-heading-anchor-permalink" href="#Piping-paths-and-URIs-1" title="Permalink"></a></h3><p>Piping either a path or a URI into a Vega-Lite specification works the same way as piping inline data into a plot. You first have to create a path or URI, and then use the pipe operator <code>|&gt;</code>. The following code shows examples of piping both a path and a URI into a plot:</p><pre><code class="language-julia"># Piping a path into a plot

p&quot;subfolder/myfile.csv&quot; |&gt; @vlplot(:point, x=:a, y=:b)

# Piping a URI into a plot

URI(&quot;https://www.foo.com/bar.json&quot;) |&gt; @vlplot(:point, x=:a, y=:b)</code></pre><h3 id="Using-paths-and-URIs-with-the-data-keyword-1"><a class="docs-heading-anchor" href="#Using-paths-and-URIs-with-the-data-keyword-1">Using paths and URIs with the <code>data</code> keyword</a><a class="docs-heading-anchor-permalink" href="#Using-paths-and-URIs-with-the-data-keyword-1" title="Permalink"></a></h3><p>You can directly pass a path or URI to the <code>data</code> keyword in a <code>@vlplot</code> call, similar to how you can pass inline data:</p><pre><code class="language-julia"># Plotting data from a local file
@vlplot(:point, data=p&quot;subfolder/file.csv&quot;, x=:a, y=:b)

# Plotting data from a URI
@vlplot(:point, data=URI(&quot;https://www.foo.com/bar.json&quot;), x=:a, y=:b)</code></pre><p>Sometimes you need to specify additional configuration parameters for an external data source that are supported by the Vega-Lite specification. In that case you can also pass the path or URI instance to the <code>url</code> sub-key in the <code>data</code> part of a plot specification:</p><pre><code class="language-julia">@vlplot(
    :point,
    data={
        url=p&quot;subfolder/foo.txt&quot;,
        format={
            type=:csv
        }
    },
    x=:a,
    y=:b
)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../vlplotmacro/">« The @vlplot command</a><a class="docs-footer-nextpage" href="../../examples/examples_barcharts/">Bar Charts »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 18 August 2022 18:19">Thursday 18 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
